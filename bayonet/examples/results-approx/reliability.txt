normalizing...
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
done with ifElseFunctional
Expression of type Identifier:
main
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__D'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__D'()
 
Expression of type ABinaryExp:
__d := __D'()
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__H0
 
Expression of type FieldExp:
__d.__H0
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
__d.__H0.Q_in
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
__d.__H0.Q_in.pushBack
 
Expression of type Identifier:
Packet'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
Packet'()
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
((Packet'(),0))
 
Expression of type CallExp:
__d.__H0.Q_in.pushBack((Packet'(),0))
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__H0
 
Expression of type FieldExp:
__d.__H0
 
Expression of type Identifier:
__run
 
Expression of type FieldExp:
__d.__H0.__run
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__d.__H0.__run()
 
Expression of type LiteralExp:
10
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__step
 
Expression of type FieldExp:
__d.__step
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__d.__step()
 
Expression of type RepeatExp:
repeat 10 {
    __d.__step();
}
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__H0
 
Expression of type FieldExp:
__d.__H0
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
__d.__H0.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
__d.__H0.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__d.__H0.Q_in.size()
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__H0
 
Expression of type FieldExp:
__d.__H0
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
__d.__H0.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
__d.__H0.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__d.__H0.Q_out.size()
 
Expression of type ABinaryExp:
__d.__H0.Q_in.size() || __d.__H0.Q_out.size()
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__H1
 
Expression of type FieldExp:
__d.__H1
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
__d.__H1.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
__d.__H1.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__d.__H1.Q_in.size()
 
Expression of type ABinaryExp:
__d.__H0.Q_in.size() || __d.__H0.Q_out.size() || __d.__H1.Q_in.size()
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__H1
 
Expression of type FieldExp:
__d.__H1
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
__d.__H1.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
__d.__H1.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__d.__H1.Q_out.size()
 
Expression of type ABinaryExp:
__d.__H0.Q_in.size() || __d.__H0.Q_out.size() || __d.__H1.Q_in.size() || __d.__H1.Q_out.size()
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__S0
 
Expression of type FieldExp:
__d.__S0
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
__d.__S0.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
__d.__S0.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__d.__S0.Q_in.size()
 
Expression of type ABinaryExp:
__d.__H0.Q_in.size() || __d.__H0.Q_out.size() || __d.__H1.Q_in.size() || __d.__H1.Q_out.size() || __d.__S0.Q_in.size()
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__S0
 
Expression of type FieldExp:
__d.__S0
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
__d.__S0.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
__d.__S0.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__d.__S0.Q_out.size()
 
Expression of type ABinaryExp:
__d.__H0.Q_in.size() || __d.__H0.Q_out.size() || __d.__H1.Q_in.size() || __d.__H1.Q_out.size() || __d.__S0.Q_in.size() || __d.__S0.Q_out.size()
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__S1
 
Expression of type FieldExp:
__d.__S1
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
__d.__S1.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
__d.__S1.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__d.__S1.Q_in.size()
 
Expression of type ABinaryExp:
__d.__H0.Q_in.size() || __d.__H0.Q_out.size() || __d.__H1.Q_in.size() || __d.__H1.Q_out.size() || __d.__S0.Q_in.size() || __d.__S0.Q_out.size() || __d.__S1.Q_in.size()
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__S1
 
Expression of type FieldExp:
__d.__S1
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
__d.__S1.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
__d.__S1.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__d.__S1.Q_out.size()
 
Expression of type ABinaryExp:
__d.__H0.Q_in.size() || __d.__H0.Q_out.size() || __d.__H1.Q_in.size() || __d.__H1.Q_out.size() || __d.__S0.Q_in.size() || __d.__S0.Q_out.size() || __d.__S1.Q_in.size() || __d.__S1.Q_out.size()
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__S2
 
Expression of type FieldExp:
__d.__S2
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
__d.__S2.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
__d.__S2.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__d.__S2.Q_in.size()
 
Expression of type ABinaryExp:
__d.__H0.Q_in.size() || __d.__H0.Q_out.size() || __d.__H1.Q_in.size() || __d.__H1.Q_out.size() || __d.__S0.Q_in.size() || __d.__S0.Q_out.size() || __d.__S1.Q_in.size() || __d.__S1.Q_out.size() || __d.__S2.Q_in.size()
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__S2
 
Expression of type FieldExp:
__d.__S2
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
__d.__S2.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
__d.__S2.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__d.__S2.Q_out.size()
 
Expression of type ABinaryExp:
__d.__H0.Q_in.size() || __d.__H0.Q_out.size() || __d.__H1.Q_in.size() || __d.__H1.Q_out.size() || __d.__S0.Q_in.size() || __d.__S0.Q_out.size() || __d.__S1.Q_in.size() || __d.__S1.Q_out.size() || __d.__S2.Q_in.size() || __d.__S2.Q_out.size()
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__S3
 
Expression of type FieldExp:
__d.__S3
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
__d.__S3.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
__d.__S3.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__d.__S3.Q_in.size()
 
Expression of type ABinaryExp:
__d.__H0.Q_in.size() || __d.__H0.Q_out.size() || __d.__H1.Q_in.size() || __d.__H1.Q_out.size() || __d.__S0.Q_in.size() || __d.__S0.Q_out.size() || __d.__S1.Q_in.size() || __d.__S1.Q_out.size() || __d.__S2.Q_in.size() || __d.__S2.Q_out.size() || __d.__S3.Q_in.size()
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__S3
 
Expression of type FieldExp:
__d.__S3
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
__d.__S3.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
__d.__S3.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__d.__S3.Q_out.size()
 
Expression of type ABinaryExp:
(__d.__H0.Q_in.size() || __d.__H0.Q_out.size() || __d.__H1.Q_in.size() || __d.__H1.Q_out.size() || __d.__S0.Q_in.size() || __d.__S0.Q_out.size() || __d.__S1.Q_in.size() || __d.__S1.Q_out.size() || __d.__S2.Q_in.size() || __d.__S2.Q_out.size() || __d.__S3.Q_in.size() || __d.__S3.Q_out.size())
 
Expression of type AUnaryExp:
!(__d.__H0.Q_in.size() || __d.__H0.Q_out.size() || __d.__H1.Q_in.size() || __d.__H1.Q_out.size() || __d.__S0.Q_in.size() || __d.__S0.Q_out.size() || __d.__S1.Q_in.size() || __d.__S1.Q_out.size() || __d.__S2.Q_in.size() || __d.__S2.Q_out.size() || __d.__S3.Q_in.size() || __d.__S3.Q_out.size())
 
Expression of type AssertExp:
assert(!(__d.__H0.Q_in.size() || __d.__H0.Q_out.size() || __d.__H1.Q_in.size() || __d.__H1.Q_out.size() || __d.__S0.Q_in.size() || __d.__S0.Q_out.size() || __d.__S1.Q_in.size() || __d.__S1.Q_out.size() || __d.__S2.Q_in.size() || __d.__S2.Q_out.size() || __d.__S3.Q_in.size() || __d.__S3.Q_out.size()))
 
Expression of type Identifier:
q1
 
Expression of type Identifier:
Expectation
 
Expression of type LiteralExp:
1
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
1 == 1
 
Expression of type Identifier:
__d
 
Expression of type Identifier:
__H1
 
Expression of type FieldExp:
__d.__H1
 
Expression of type Identifier:
arrived
 
Expression of type FieldExp:
__d.__H1.arrived
 
Expression of type LiteralExp:
0
 
Expression of type AssertExp:
assert(0)
 
Expression of type IteExp:
((if 1 == 1 {
    __d.__H1.arrived;
} else {
    assert(0);
}))
 
Expression of type LiteralExp:
0
 
Expression of type ABinaryExp:
(((if 1 == 1 {
    __d.__H1.arrived;
} else {
    assert(0);
})) != 0)
 
Expression of type CallExp:
Expectation(((if 1 == 1 {
    __d.__H1.arrived;
} else {
    assert(0);
})) != 0)
 
Expression of type ABinaryExp:
q1 := Expectation(((if 1 == 1 {
    __d.__H1.arrived;
} else {
    assert(0);
})) != 0)
 
Expression of type Identifier:
(q1)
 
Expression of type ReturnExp:
return (q1)
 
Expression of type FunctionDef:
def main(){
    __d := __D'();
    __d.__H0.Q_in.pushBack((Packet'(),0));
    __d.__H0.__run();
    repeat 10 {
        __d.__step();
    }
    assert(!(__d.__H0.Q_in.size() || __d.__H0.Q_out.size() || __d.__H1.Q_in.size() || __d.__H1.Q_out.size() || __d.__S0.Q_in.size() || __d.__S0.Q_out.size() || __d.__S1.Q_in.size() || __d.__S1.Q_out.size() || __d.__S2.Q_in.size() || __d.__S2.Q_out.size() || __d.__S3.Q_in.size() || __d.__S3.Q_out.size()));
    q1 := Expectation(((if 1 == 1 {
        __d.__H1.arrived;
    } else {
        assert(0);
    })) != 0);
    return (q1);
}
 
done with forToWhile
whileToRec normalization...
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
done with whileToRec
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
done with tuplesNormalizer
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
done with unreachableNormalizer
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
TODO: not all types of Expression covered:
ℝ × __D
webppl translation...
translating meaning of __D
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
done with ifElseFunctional
Expression of type Identifier:
__D
 
Expression of type Identifier:
__H0
 
Expression of type Identifier:
__h0_ty
 
Expression of type VarDecl:
__H0: __h0_ty
 
Expression of type Identifier:
__H1
 
Expression of type Identifier:
__h1_ty
 
Expression of type VarDecl:
__H1: __h1_ty
 
Expression of type ABinaryExp:
__H0: __h0_ty , __H1: __h1_ty
 
Expression of type Identifier:
__S0
 
Expression of type Identifier:
__s0_ty
 
Expression of type VarDecl:
__S0: __s0_ty
 
Expression of type ABinaryExp:
__H0: __h0_ty , __H1: __h1_ty , __S0: __s0_ty
 
Expression of type Identifier:
__S1
 
Expression of type Identifier:
__s1_ty
 
Expression of type VarDecl:
__S1: __s1_ty
 
Expression of type ABinaryExp:
__H0: __h0_ty , __H1: __h1_ty , __S0: __s0_ty , __S1: __s1_ty
 
Expression of type Identifier:
__S2
 
Expression of type Identifier:
__s2_ty
 
Expression of type VarDecl:
__S2: __s2_ty
 
Expression of type ABinaryExp:
__H0: __h0_ty , __H1: __h1_ty , __S0: __s0_ty , __S1: __s1_ty , __S2: __s2_ty
 
Expression of type Identifier:
__S3
 
Expression of type Identifier:
__s3_ty
 
Expression of type VarDecl:
__S3: __s3_ty
 
Expression of type ABinaryExp:
__H0: __h0_ty , __H1: __h1_ty , __S0: __s0_ty , __S1: __s1_ty , __S2: __s2_ty , __S3: __s3_ty
 
Expression of type Identifier:
num_actions
 
Expression of type Identifier:
ℝ
 
Expression of type VarDecl:
num_actions: ℝ
 
Expression of type Identifier:
__D
 
Expression of type Identifier:
this
 
Expression of type Identifier:
__H0
 
Expression of type FieldExp:
this.__H0
 
Expression of type Identifier:
__h0_ty'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__h0_ty'()
 
Expression of type ABinaryExp:
this.__H0 = __h0_ty'()
 
Expression of type Identifier:
this
 
Expression of type Identifier:
__H1
 
Expression of type FieldExp:
this.__H1
 
Expression of type Identifier:
__h1_ty'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__h1_ty'()
 
Expression of type ABinaryExp:
this.__H1 = __h1_ty'()
 
Expression of type Identifier:
this
 
Expression of type Identifier:
__S0
 
Expression of type FieldExp:
this.__S0
 
Expression of type Identifier:
__s0_ty'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__s0_ty'()
 
Expression of type ABinaryExp:
this.__S0 = __s0_ty'()
 
Expression of type Identifier:
this
 
Expression of type Identifier:
__S1
 
Expression of type FieldExp:
this.__S1
 
Expression of type Identifier:
__s1_ty'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__s1_ty'()
 
Expression of type ABinaryExp:
this.__S1 = __s1_ty'()
 
Expression of type Identifier:
this
 
Expression of type Identifier:
__S2
 
Expression of type FieldExp:
this.__S2
 
Expression of type Identifier:
__s2_ty'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__s2_ty'()
 
Expression of type ABinaryExp:
this.__S2 = __s2_ty'()
 
Expression of type Identifier:
this
 
Expression of type Identifier:
__S3
 
Expression of type FieldExp:
this.__S3
 
Expression of type Identifier:
__s3_ty'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
__s3_ty'()
 
Expression of type ABinaryExp:
this.__S3 = __s3_ty'()
 
Expression of type Identifier:
this
 
Expression of type Identifier:
num_actions
 
Expression of type FieldExp:
this.num_actions
 
Expression of type LiteralExp:
0
 
Expression of type ABinaryExp:
this.num_actions = 0
 
Expression of type Identifier:
this
 
Expression of type ReturnExp:
return this
 
Expression of type FunctionDef:
def __D'(){
    this.__H0 = __h0_ty'();
    this.__H1 = __h1_ty'();
    this.__S0 = __s0_ty'();
    this.__S1 = __s1_ty'();
    this.__S2 = __s2_ty'();
    this.__S3 = __s3_ty'();
    this.num_actions = 0;
    return this;
}
 
Expression of type Identifier:
scheduler
 
Expression of type Identifier:
actions
 
Expression of type ArrayExp:
[]
 
Expression of type Identifier:
R
 
Expression of type Identifier:
R
 
Expression of type ABinaryExp:
(R × R)
 
Expression of type IndexExp:
(R × R)[]
 
Expression of type TypeAnnotationExp:
([]: (R × R)[])
 
Expression of type ABinaryExp:
actions := ([]: (R × R)[])
 
Expression of type Identifier:
i
 
Expression of type LiteralExp:
0
 
Expression of type LiteralExp:
6
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
actions
 
Expression of type Identifier:
actions
 
Expression of type LiteralExp:
0
 
Expression of type Identifier:
i
 
Expression of type TupleExp:
(0,i)
 
Expression of type ArrayExp:
[(0,i)]
 
Expression of type ABinaryExp:
actions ~ [(0,i)]
 
Expression of type ABinaryExp:
actions = actions ~ [(0,i)]
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
actions
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,actions,0)
 
Expression of type ReturnExp:
return (1,actions,0)
 
Expression of type FunctionDef:
def _if(){
    actions = actions ~ [(0,i)];
    return (1,actions,0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
actions
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,actions,0)
 
Expression of type ReturnExp:
return (1,actions,0)
 
Expression of type FunctionDef:
def _else(){
    return (1,actions,0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
i
 
Expression of type LiteralExp:
0
 
Expression of type ABinaryExp:
i == 0
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H0
 
Expression of type FieldExp:
this'.__H0
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__H0.Q_in
 
Expression of type Identifier:
i
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
i == 1
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H1
 
Expression of type FieldExp:
this'.__H1
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__H1.Q_in
 
Expression of type Identifier:
i
 
Expression of type LiteralExp:
2
 
Expression of type ABinaryExp:
i == 2
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S0
 
Expression of type FieldExp:
this'.__S0
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S0.Q_in
 
Expression of type Identifier:
i
 
Expression of type LiteralExp:
3
 
Expression of type ABinaryExp:
i == 3
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S1
 
Expression of type FieldExp:
this'.__S1
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S1.Q_in
 
Expression of type Identifier:
i
 
Expression of type LiteralExp:
4
 
Expression of type ABinaryExp:
i == 4
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S2
 
Expression of type FieldExp:
this'.__S2
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S2.Q_in
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S3
 
Expression of type FieldExp:
this'.__S3
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S3.Q_in
 
Expression of type IteExp:
if i == 4 {
    this'.__S2.Q_in;
} else {
    this'.__S3.Q_in;
}
 
Expression of type IteExp:
if i == 3 {
    this'.__S1.Q_in;
} else if i == 4 {
    this'.__S2.Q_in;
} else {
    this'.__S3.Q_in;
}
 
Expression of type IteExp:
if i == 2 {
    this'.__S0.Q_in;
} else if i == 3 {
    this'.__S1.Q_in;
} else if i == 4 {
    this'.__S2.Q_in;
} else {
    this'.__S3.Q_in;
}
 
Expression of type IteExp:
if i == 1 {
    this'.__H1.Q_in;
} else if i == 2 {
    this'.__S0.Q_in;
} else if i == 3 {
    this'.__S1.Q_in;
} else if i == 4 {
    this'.__S2.Q_in;
} else {
    this'.__S3.Q_in;
}
 
Expression of type IteExp:
(if i == 0 {
    this'.__H0.Q_in;
} else if i == 1 {
    this'.__H1.Q_in;
} else if i == 2 {
    this'.__S0.Q_in;
} else if i == 3 {
    this'.__S1.Q_in;
} else if i == 4 {
    this'.__S2.Q_in;
} else {
    this'.__S3.Q_in;
})
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
(if i == 0 {
    this'.__H0.Q_in;
} else if i == 1 {
    this'.__H1.Q_in;
} else if i == 2 {
    this'.__S0.Q_in;
} else if i == 3 {
    this'.__S1.Q_in;
} else if i == 4 {
    this'.__S2.Q_in;
} else {
    this'.__S3.Q_in;
}).size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
(if i == 0 {
    this'.__H0.Q_in;
} else if i == 1 {
    this'.__H1.Q_in;
} else if i == 2 {
    this'.__S0.Q_in;
} else if i == 3 {
    this'.__S1.Q_in;
} else if i == 4 {
    this'.__S2.Q_in;
} else {
    this'.__S3.Q_in;
}).size()
 
Expression of type LiteralExp:
0
 
Expression of type ABinaryExp:
(if i == 0 {
    this'.__H0.Q_in;
} else if i == 1 {
    this'.__H1.Q_in;
} else if i == 2 {
    this'.__S0.Q_in;
} else if i == 3 {
    this'.__S1.Q_in;
} else if i == 4 {
    this'.__S2.Q_in;
} else {
    this'.__S3.Q_in;
}).size() > 0
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if (if i == 0 {
    this'.__H0.Q_in;
} else if i == 1 {
    this'.__H1.Q_in;
} else if i == 2 {
    this'.__S0.Q_in;
} else if i == 3 {
    this'.__S1.Q_in;
} else if i == 4 {
    this'.__S2.Q_in;
} else {
    this'.__S3.Q_in;
}).size() > 0 {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if (if i == 0 {
        this'.__H0.Q_in;
    } else if i == 1 {
        this'.__H1.Q_in;
    } else if i == 2 {
        this'.__S0.Q_in;
    } else if i == 3 {
        this'.__S1.Q_in;
    } else if i == 4 {
        this'.__S2.Q_in;
    } else {
        this'.__S3.Q_in;
    }).size() > 0 {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
actions
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
actions = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
actions
 
Expression of type Identifier:
actions
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
i
 
Expression of type TupleExp:
(1,i)
 
Expression of type ArrayExp:
[(1,i)]
 
Expression of type ABinaryExp:
actions ~ [(1,i)]
 
Expression of type ABinaryExp:
actions = actions ~ [(1,i)]
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
actions
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,actions,0)
 
Expression of type ReturnExp:
return (1,actions,0)
 
Expression of type FunctionDef:
def _if(){
    actions = actions ~ [(1,i)];
    return (1,actions,0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
actions
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,actions,0)
 
Expression of type ReturnExp:
return (1,actions,0)
 
Expression of type FunctionDef:
def _else(){
    return (1,actions,0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
i
 
Expression of type LiteralExp:
0
 
Expression of type ABinaryExp:
i == 0
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H0
 
Expression of type FieldExp:
this'.__H0
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__H0.Q_out
 
Expression of type Identifier:
i
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
i == 1
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H1
 
Expression of type FieldExp:
this'.__H1
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__H1.Q_out
 
Expression of type Identifier:
i
 
Expression of type LiteralExp:
2
 
Expression of type ABinaryExp:
i == 2
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S0
 
Expression of type FieldExp:
this'.__S0
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S0.Q_out
 
Expression of type Identifier:
i
 
Expression of type LiteralExp:
3
 
Expression of type ABinaryExp:
i == 3
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S1
 
Expression of type FieldExp:
this'.__S1
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S1.Q_out
 
Expression of type Identifier:
i
 
Expression of type LiteralExp:
4
 
Expression of type ABinaryExp:
i == 4
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S2
 
Expression of type FieldExp:
this'.__S2
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S2.Q_out
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S3
 
Expression of type FieldExp:
this'.__S3
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S3.Q_out
 
Expression of type IteExp:
if i == 4 {
    this'.__S2.Q_out;
} else {
    this'.__S3.Q_out;
}
 
Expression of type IteExp:
if i == 3 {
    this'.__S1.Q_out;
} else if i == 4 {
    this'.__S2.Q_out;
} else {
    this'.__S3.Q_out;
}
 
Expression of type IteExp:
if i == 2 {
    this'.__S0.Q_out;
} else if i == 3 {
    this'.__S1.Q_out;
} else if i == 4 {
    this'.__S2.Q_out;
} else {
    this'.__S3.Q_out;
}
 
Expression of type IteExp:
if i == 1 {
    this'.__H1.Q_out;
} else if i == 2 {
    this'.__S0.Q_out;
} else if i == 3 {
    this'.__S1.Q_out;
} else if i == 4 {
    this'.__S2.Q_out;
} else {
    this'.__S3.Q_out;
}
 
Expression of type IteExp:
(if i == 0 {
    this'.__H0.Q_out;
} else if i == 1 {
    this'.__H1.Q_out;
} else if i == 2 {
    this'.__S0.Q_out;
} else if i == 3 {
    this'.__S1.Q_out;
} else if i == 4 {
    this'.__S2.Q_out;
} else {
    this'.__S3.Q_out;
})
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
(if i == 0 {
    this'.__H0.Q_out;
} else if i == 1 {
    this'.__H1.Q_out;
} else if i == 2 {
    this'.__S0.Q_out;
} else if i == 3 {
    this'.__S1.Q_out;
} else if i == 4 {
    this'.__S2.Q_out;
} else {
    this'.__S3.Q_out;
}).size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
(if i == 0 {
    this'.__H0.Q_out;
} else if i == 1 {
    this'.__H1.Q_out;
} else if i == 2 {
    this'.__S0.Q_out;
} else if i == 3 {
    this'.__S1.Q_out;
} else if i == 4 {
    this'.__S2.Q_out;
} else {
    this'.__S3.Q_out;
}).size()
 
Expression of type LiteralExp:
0
 
Expression of type ABinaryExp:
(if i == 0 {
    this'.__H0.Q_out;
} else if i == 1 {
    this'.__H1.Q_out;
} else if i == 2 {
    this'.__S0.Q_out;
} else if i == 3 {
    this'.__S1.Q_out;
} else if i == 4 {
    this'.__S2.Q_out;
} else {
    this'.__S3.Q_out;
}).size() > 0
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if (if i == 0 {
    this'.__H0.Q_out;
} else if i == 1 {
    this'.__H1.Q_out;
} else if i == 2 {
    this'.__S0.Q_out;
} else if i == 3 {
    this'.__S1.Q_out;
} else if i == 4 {
    this'.__S2.Q_out;
} else {
    this'.__S3.Q_out;
}).size() > 0 {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if (if i == 0 {
        this'.__H0.Q_out;
    } else if i == 1 {
        this'.__H1.Q_out;
    } else if i == 2 {
        this'.__S0.Q_out;
    } else if i == 3 {
        this'.__S1.Q_out;
    } else if i == 4 {
        this'.__S2.Q_out;
    } else {
        this'.__S3.Q_out;
    }).size() > 0 {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
actions
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
actions = _ret[1]
 
Expression of type ForExp:
for i in [0..6){
    def _if(){
        actions = actions ~ [(0,i)];
        return (1,actions,0);
    }
    def _else(){
        return (1,actions,0);
    }
    def eval_if(){
        if (if i == 0 {
            this'.__H0.Q_in;
        } else if i == 1 {
            this'.__H1.Q_in;
        } else if i == 2 {
            this'.__S0.Q_in;
        } else if i == 3 {
            this'.__S1.Q_in;
        } else if i == 4 {
            this'.__S2.Q_in;
        } else {
            this'.__S3.Q_in;
        }).size() > 0 {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    actions = _ret[1];
    def _if(){
        actions = actions ~ [(1,i)];
        return (1,actions,0);
    }
    def _else(){
        return (1,actions,0);
    }
    def eval_if(){
        if (if i == 0 {
            this'.__H0.Q_out;
        } else if i == 1 {
            this'.__H1.Q_out;
        } else if i == 2 {
            this'.__S0.Q_out;
        } else if i == 3 {
            this'.__S1.Q_out;
        } else if i == 4 {
            this'.__S2.Q_out;
        } else {
            this'.__S3.Q_out;
        }).size() > 0 {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    actions = _ret[1];
}
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
num_actions
 
Expression of type FieldExp:
this'.num_actions
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
num_actions
 
Expression of type FieldExp:
this'.num_actions
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
this'.num_actions + 1
 
Expression of type ABinaryExp:
this'.num_actions = this'.num_actions + 1
 
Expression of type Identifier:
actions
 
Expression of type Identifier:
uniformInt
 
Expression of type LiteralExp:
0
 
Expression of type Identifier:
actions
 
Expression of type Identifier:
length
 
Expression of type FieldExp:
actions.length
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
actions.length - 1
 
Expression of type TupleExp:
(0,actions.length - 1)
 
Expression of type CallExp:
uniformInt(0,actions.length - 1)
 
Expression of type IndexExp:
actions[uniformInt(0,actions.length - 1)]
 
Expression of type ReturnExp:
return actions[uniformInt(0,actions.length - 1)]
 
Expression of type FunctionDef:
def scheduler(){
    actions := ([]: (R × R)[]);
    for i in [0..6){
        def _if(){
            actions = actions ~ [(0,i)];
            return (1,actions,0);
        }
        def _else(){
            return (1,actions,0);
        }
        def eval_if(){
            if (if i == 0 {
                this'.__H0.Q_in;
            } else if i == 1 {
                this'.__H1.Q_in;
            } else if i == 2 {
                this'.__S0.Q_in;
            } else if i == 3 {
                this'.__S1.Q_in;
            } else if i == 4 {
                this'.__S2.Q_in;
            } else {
                this'.__S3.Q_in;
            }).size() > 0 {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        actions = _ret[1];
        def _if(){
            actions = actions ~ [(1,i)];
            return (1,actions,0);
        }
        def _else(){
            return (1,actions,0);
        }
        def eval_if(){
            if (if i == 0 {
                this'.__H0.Q_out;
            } else if i == 1 {
                this'.__H1.Q_out;
            } else if i == 2 {
                this'.__S0.Q_out;
            } else if i == 3 {
                this'.__S1.Q_out;
            } else if i == 4 {
                this'.__S2.Q_out;
            } else {
                this'.__S3.Q_out;
            }).size() > 0 {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        actions = _ret[1];
    }
    this'.num_actions = this'.num_actions + 1;
    return actions[uniformInt(0,actions.length - 1)];
}
 
Expression of type Identifier:
__step
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
action
 
Expression of type Identifier:
node
 
Expression of type TupleExp:
(action,node)
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
scheduler
 
Expression of type FieldExp:
this'.scheduler
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.scheduler()
 
Expression of type ABinaryExp:
(action,node) := this'.scheduler()
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
pkt
 
Expression of type Identifier:
port
 
Expression of type TupleExp:
(pkt,port)
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H0
 
Expression of type FieldExp:
this'.__H0
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__H0.Q_out
 
Expression of type Identifier:
takeFront
 
Expression of type FieldExp:
this'.__H0.Q_out.takeFront
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__H0.Q_out.takeFront()
 
Expression of type ABinaryExp:
(pkt,port) := this'.__H0.Q_out.takeFront()
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S0
 
Expression of type FieldExp:
this'.__S0
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S0.Q_in
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.__S0.Q_in.pushBack
 
Expression of type Identifier:
pkt
 
Expression of type LiteralExp:
1
 
Expression of type TupleExp:
((pkt,1))
 
Expression of type CallExp:
this'.__S0.Q_in.pushBack((pkt,1))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__S0.Q_in.pushBack((pkt,1));
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
port
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
port == 1
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if port == 1 {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if port == 1 {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    (pkt,port) := this'.__H0.Q_out.takeFront();
    def _if(){
        this'.__S0.Q_in.pushBack((pkt,1));
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if port == 1 {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
node
 
Expression of type LiteralExp:
0
 
Expression of type ABinaryExp:
node == 0
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H0
 
Expression of type FieldExp:
this'.__H0
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__H0.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__H0.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__H0.Q_out.size()
 
Expression of type ABinaryExp:
node == 0 && this'.__H0.Q_out.size()
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if node == 0 && this'.__H0.Q_out.size() {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if node == 0 && this'.__H0.Q_out.size() {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
pkt
 
Expression of type Identifier:
port
 
Expression of type TupleExp:
(pkt,port)
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H1
 
Expression of type FieldExp:
this'.__H1
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__H1.Q_out
 
Expression of type Identifier:
takeFront
 
Expression of type FieldExp:
this'.__H1.Q_out.takeFront
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__H1.Q_out.takeFront()
 
Expression of type ABinaryExp:
(pkt,port) := this'.__H1.Q_out.takeFront()
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S3
 
Expression of type FieldExp:
this'.__S3
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S3.Q_in
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.__S3.Q_in.pushBack
 
Expression of type Identifier:
pkt
 
Expression of type LiteralExp:
3
 
Expression of type TupleExp:
((pkt,3))
 
Expression of type CallExp:
this'.__S3.Q_in.pushBack((pkt,3))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__S3.Q_in.pushBack((pkt,3));
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
port
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
port == 1
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if port == 1 {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if port == 1 {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    (pkt,port) := this'.__H1.Q_out.takeFront();
    def _if(){
        this'.__S3.Q_in.pushBack((pkt,3));
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if port == 1 {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
node
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
node == 1
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H1
 
Expression of type FieldExp:
this'.__H1
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__H1.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__H1.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__H1.Q_out.size()
 
Expression of type ABinaryExp:
node == 1 && this'.__H1.Q_out.size()
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if node == 1 && this'.__H1.Q_out.size() {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if node == 1 && this'.__H1.Q_out.size() {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
pkt
 
Expression of type Identifier:
port
 
Expression of type TupleExp:
(pkt,port)
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S0
 
Expression of type FieldExp:
this'.__S0
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S0.Q_out
 
Expression of type Identifier:
takeFront
 
Expression of type FieldExp:
this'.__S0.Q_out.takeFront
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S0.Q_out.takeFront()
 
Expression of type ABinaryExp:
(pkt,port) := this'.__S0.Q_out.takeFront()
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H0
 
Expression of type FieldExp:
this'.__H0
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__H0.Q_in
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.__H0.Q_in.pushBack
 
Expression of type Identifier:
pkt
 
Expression of type LiteralExp:
1
 
Expression of type TupleExp:
((pkt,1))
 
Expression of type CallExp:
this'.__H0.Q_in.pushBack((pkt,1))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__H0.Q_in.pushBack((pkt,1));
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
port
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
port == 1
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if port == 1 {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if port == 1 {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S1
 
Expression of type FieldExp:
this'.__S1
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S1.Q_in
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.__S1.Q_in.pushBack
 
Expression of type Identifier:
pkt
 
Expression of type LiteralExp:
1
 
Expression of type TupleExp:
((pkt,1))
 
Expression of type CallExp:
this'.__S1.Q_in.pushBack((pkt,1))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__S1.Q_in.pushBack((pkt,1));
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
port
 
Expression of type LiteralExp:
2
 
Expression of type ABinaryExp:
port == 2
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if port == 2 {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if port == 2 {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S2
 
Expression of type FieldExp:
this'.__S2
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S2.Q_in
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.__S2.Q_in.pushBack
 
Expression of type Identifier:
pkt
 
Expression of type LiteralExp:
1
 
Expression of type TupleExp:
((pkt,1))
 
Expression of type CallExp:
this'.__S2.Q_in.pushBack((pkt,1))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__S2.Q_in.pushBack((pkt,1));
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
port
 
Expression of type LiteralExp:
3
 
Expression of type ABinaryExp:
port == 3
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if port == 3 {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if port == 3 {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    (pkt,port) := this'.__S0.Q_out.takeFront();
    def _if(){
        this'.__H0.Q_in.pushBack((pkt,1));
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if port == 1 {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        this'.__S1.Q_in.pushBack((pkt,1));
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if port == 2 {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        this'.__S2.Q_in.pushBack((pkt,1));
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if port == 3 {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
node
 
Expression of type LiteralExp:
2
 
Expression of type ABinaryExp:
node == 2
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S0
 
Expression of type FieldExp:
this'.__S0
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S0.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S0.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S0.Q_out.size()
 
Expression of type ABinaryExp:
node == 2 && this'.__S0.Q_out.size()
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if node == 2 && this'.__S0.Q_out.size() {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if node == 2 && this'.__S0.Q_out.size() {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
pkt
 
Expression of type Identifier:
port
 
Expression of type TupleExp:
(pkt,port)
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S1
 
Expression of type FieldExp:
this'.__S1
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S1.Q_out
 
Expression of type Identifier:
takeFront
 
Expression of type FieldExp:
this'.__S1.Q_out.takeFront
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S1.Q_out.takeFront()
 
Expression of type ABinaryExp:
(pkt,port) := this'.__S1.Q_out.takeFront()
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S0
 
Expression of type FieldExp:
this'.__S0
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S0.Q_in
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.__S0.Q_in.pushBack
 
Expression of type Identifier:
pkt
 
Expression of type LiteralExp:
2
 
Expression of type TupleExp:
((pkt,2))
 
Expression of type CallExp:
this'.__S0.Q_in.pushBack((pkt,2))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__S0.Q_in.pushBack((pkt,2));
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
port
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
port == 1
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if port == 1 {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if port == 1 {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S3
 
Expression of type FieldExp:
this'.__S3
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S3.Q_in
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.__S3.Q_in.pushBack
 
Expression of type Identifier:
pkt
 
Expression of type LiteralExp:
1
 
Expression of type TupleExp:
((pkt,1))
 
Expression of type CallExp:
this'.__S3.Q_in.pushBack((pkt,1))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__S3.Q_in.pushBack((pkt,1));
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
port
 
Expression of type LiteralExp:
2
 
Expression of type ABinaryExp:
port == 2
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if port == 2 {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if port == 2 {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    (pkt,port) := this'.__S1.Q_out.takeFront();
    def _if(){
        this'.__S0.Q_in.pushBack((pkt,2));
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if port == 1 {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        this'.__S3.Q_in.pushBack((pkt,1));
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if port == 2 {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
node
 
Expression of type LiteralExp:
3
 
Expression of type ABinaryExp:
node == 3
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S1
 
Expression of type FieldExp:
this'.__S1
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S1.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S1.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S1.Q_out.size()
 
Expression of type ABinaryExp:
node == 3 && this'.__S1.Q_out.size()
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if node == 3 && this'.__S1.Q_out.size() {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if node == 3 && this'.__S1.Q_out.size() {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
pkt
 
Expression of type Identifier:
port
 
Expression of type TupleExp:
(pkt,port)
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S2
 
Expression of type FieldExp:
this'.__S2
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S2.Q_out
 
Expression of type Identifier:
takeFront
 
Expression of type FieldExp:
this'.__S2.Q_out.takeFront
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S2.Q_out.takeFront()
 
Expression of type ABinaryExp:
(pkt,port) := this'.__S2.Q_out.takeFront()
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S0
 
Expression of type FieldExp:
this'.__S0
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S0.Q_in
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.__S0.Q_in.pushBack
 
Expression of type Identifier:
pkt
 
Expression of type LiteralExp:
3
 
Expression of type TupleExp:
((pkt,3))
 
Expression of type CallExp:
this'.__S0.Q_in.pushBack((pkt,3))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__S0.Q_in.pushBack((pkt,3));
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
port
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
port == 1
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if port == 1 {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if port == 1 {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S3
 
Expression of type FieldExp:
this'.__S3
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S3.Q_in
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.__S3.Q_in.pushBack
 
Expression of type Identifier:
pkt
 
Expression of type LiteralExp:
2
 
Expression of type TupleExp:
((pkt,2))
 
Expression of type CallExp:
this'.__S3.Q_in.pushBack((pkt,2))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__S3.Q_in.pushBack((pkt,2));
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
port
 
Expression of type LiteralExp:
2
 
Expression of type ABinaryExp:
port == 2
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if port == 2 {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if port == 2 {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    (pkt,port) := this'.__S2.Q_out.takeFront();
    def _if(){
        this'.__S0.Q_in.pushBack((pkt,3));
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if port == 1 {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        this'.__S3.Q_in.pushBack((pkt,2));
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if port == 2 {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
node
 
Expression of type LiteralExp:
4
 
Expression of type ABinaryExp:
node == 4
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S2
 
Expression of type FieldExp:
this'.__S2
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S2.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S2.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S2.Q_out.size()
 
Expression of type ABinaryExp:
node == 4 && this'.__S2.Q_out.size()
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if node == 4 && this'.__S2.Q_out.size() {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if node == 4 && this'.__S2.Q_out.size() {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
pkt
 
Expression of type Identifier:
port
 
Expression of type TupleExp:
(pkt,port)
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S3
 
Expression of type FieldExp:
this'.__S3
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S3.Q_out
 
Expression of type Identifier:
takeFront
 
Expression of type FieldExp:
this'.__S3.Q_out.takeFront
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S3.Q_out.takeFront()
 
Expression of type ABinaryExp:
(pkt,port) := this'.__S3.Q_out.takeFront()
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S1
 
Expression of type FieldExp:
this'.__S1
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S1.Q_in
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.__S1.Q_in.pushBack
 
Expression of type Identifier:
pkt
 
Expression of type LiteralExp:
2
 
Expression of type TupleExp:
((pkt,2))
 
Expression of type CallExp:
this'.__S1.Q_in.pushBack((pkt,2))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__S1.Q_in.pushBack((pkt,2));
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
port
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
port == 1
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if port == 1 {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if port == 1 {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S2
 
Expression of type FieldExp:
this'.__S2
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S2.Q_in
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.__S2.Q_in.pushBack
 
Expression of type Identifier:
pkt
 
Expression of type LiteralExp:
2
 
Expression of type TupleExp:
((pkt,2))
 
Expression of type CallExp:
this'.__S2.Q_in.pushBack((pkt,2))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__S2.Q_in.pushBack((pkt,2));
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
port
 
Expression of type LiteralExp:
2
 
Expression of type ABinaryExp:
port == 2
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if port == 2 {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if port == 2 {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H1
 
Expression of type FieldExp:
this'.__H1
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__H1.Q_in
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.__H1.Q_in.pushBack
 
Expression of type Identifier:
pkt
 
Expression of type LiteralExp:
1
 
Expression of type TupleExp:
((pkt,1))
 
Expression of type CallExp:
this'.__H1.Q_in.pushBack((pkt,1))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__H1.Q_in.pushBack((pkt,1));
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
port
 
Expression of type LiteralExp:
3
 
Expression of type ABinaryExp:
port == 3
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if port == 3 {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if port == 3 {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    (pkt,port) := this'.__S3.Q_out.takeFront();
    def _if(){
        this'.__S1.Q_in.pushBack((pkt,2));
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if port == 1 {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        this'.__S2.Q_in.pushBack((pkt,2));
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if port == 2 {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        this'.__H1.Q_in.pushBack((pkt,1));
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if port == 3 {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
node
 
Expression of type LiteralExp:
5
 
Expression of type ABinaryExp:
node == 5
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S3
 
Expression of type FieldExp:
this'.__S3
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S3.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S3.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S3.Q_out.size()
 
Expression of type ABinaryExp:
node == 5 && this'.__S3.Q_out.size()
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if node == 5 && this'.__S3.Q_out.size() {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if node == 5 && this'.__S3.Q_out.size() {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    def _if(){
        (pkt,port) := this'.__H0.Q_out.takeFront();
        def _if(){
            this'.__S0.Q_in.pushBack((pkt,1));
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if port == 1 {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if node == 0 && this'.__H0.Q_out.size() {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        (pkt,port) := this'.__H1.Q_out.takeFront();
        def _if(){
            this'.__S3.Q_in.pushBack((pkt,3));
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if port == 1 {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if node == 1 && this'.__H1.Q_out.size() {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        (pkt,port) := this'.__S0.Q_out.takeFront();
        def _if(){
            this'.__H0.Q_in.pushBack((pkt,1));
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if port == 1 {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            this'.__S1.Q_in.pushBack((pkt,1));
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if port == 2 {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            this'.__S2.Q_in.pushBack((pkt,1));
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if port == 3 {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if node == 2 && this'.__S0.Q_out.size() {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        (pkt,port) := this'.__S1.Q_out.takeFront();
        def _if(){
            this'.__S0.Q_in.pushBack((pkt,2));
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if port == 1 {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            this'.__S3.Q_in.pushBack((pkt,1));
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if port == 2 {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if node == 3 && this'.__S1.Q_out.size() {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        (pkt,port) := this'.__S2.Q_out.takeFront();
        def _if(){
            this'.__S0.Q_in.pushBack((pkt,3));
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if port == 1 {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            this'.__S3.Q_in.pushBack((pkt,2));
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if port == 2 {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if node == 4 && this'.__S2.Q_out.size() {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        (pkt,port) := this'.__S3.Q_out.takeFront();
        def _if(){
            this'.__S1.Q_in.pushBack((pkt,2));
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if port == 1 {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            this'.__S2.Q_in.pushBack((pkt,2));
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if port == 2 {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            this'.__H1.Q_in.pushBack((pkt,1));
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if port == 3 {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if node == 5 && this'.__S3.Q_out.size() {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H0
 
Expression of type FieldExp:
this'.__H0
 
Expression of type Identifier:
__run
 
Expression of type FieldExp:
this'.__H0.__run
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__H0.__run()
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__H0.__run();
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
node
 
Expression of type LiteralExp:
0
 
Expression of type ABinaryExp:
node == 0
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H0
 
Expression of type FieldExp:
this'.__H0
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__H0.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__H0.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__H0.Q_in.size()
 
Expression of type ABinaryExp:
node == 0 && this'.__H0.Q_in.size()
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if node == 0 && this'.__H0.Q_in.size() {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if node == 0 && this'.__H0.Q_in.size() {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H1
 
Expression of type FieldExp:
this'.__H1
 
Expression of type Identifier:
__run
 
Expression of type FieldExp:
this'.__H1.__run
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__H1.__run()
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__H1.__run();
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
node
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
node == 1
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H1
 
Expression of type FieldExp:
this'.__H1
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__H1.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__H1.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__H1.Q_in.size()
 
Expression of type ABinaryExp:
node == 1 && this'.__H1.Q_in.size()
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if node == 1 && this'.__H1.Q_in.size() {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if node == 1 && this'.__H1.Q_in.size() {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S0
 
Expression of type FieldExp:
this'.__S0
 
Expression of type Identifier:
__run
 
Expression of type FieldExp:
this'.__S0.__run
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S0.__run()
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__S0.__run();
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
node
 
Expression of type LiteralExp:
2
 
Expression of type ABinaryExp:
node == 2
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S0
 
Expression of type FieldExp:
this'.__S0
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S0.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S0.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S0.Q_in.size()
 
Expression of type ABinaryExp:
node == 2 && this'.__S0.Q_in.size()
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if node == 2 && this'.__S0.Q_in.size() {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if node == 2 && this'.__S0.Q_in.size() {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S1
 
Expression of type FieldExp:
this'.__S1
 
Expression of type Identifier:
__run
 
Expression of type FieldExp:
this'.__S1.__run
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S1.__run()
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__S1.__run();
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
node
 
Expression of type LiteralExp:
3
 
Expression of type ABinaryExp:
node == 3
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S1
 
Expression of type FieldExp:
this'.__S1
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S1.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S1.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S1.Q_in.size()
 
Expression of type ABinaryExp:
node == 3 && this'.__S1.Q_in.size()
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if node == 3 && this'.__S1.Q_in.size() {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if node == 3 && this'.__S1.Q_in.size() {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S2
 
Expression of type FieldExp:
this'.__S2
 
Expression of type Identifier:
__run
 
Expression of type FieldExp:
this'.__S2.__run
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S2.__run()
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__S2.__run();
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
node
 
Expression of type LiteralExp:
4
 
Expression of type ABinaryExp:
node == 4
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S2
 
Expression of type FieldExp:
this'.__S2
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S2.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S2.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S2.Q_in.size()
 
Expression of type ABinaryExp:
node == 4 && this'.__S2.Q_in.size()
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if node == 4 && this'.__S2.Q_in.size() {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if node == 4 && this'.__S2.Q_in.size() {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S3
 
Expression of type FieldExp:
this'.__S3
 
Expression of type Identifier:
__run
 
Expression of type FieldExp:
this'.__S3.__run
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S3.__run()
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.__S3.__run();
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
node
 
Expression of type LiteralExp:
5
 
Expression of type ABinaryExp:
node == 5
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S3
 
Expression of type FieldExp:
this'.__S3
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S3.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S3.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S3.Q_in.size()
 
Expression of type ABinaryExp:
node == 5 && this'.__S3.Q_in.size()
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if node == 5 && this'.__S3.Q_in.size() {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if node == 5 && this'.__S3.Q_in.size() {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    def _if(){
        this'.__H0.__run();
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if node == 0 && this'.__H0.Q_in.size() {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        this'.__H1.__run();
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if node == 1 && this'.__H1.Q_in.size() {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        this'.__S0.__run();
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if node == 2 && this'.__S0.Q_in.size() {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        this'.__S1.__run();
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if node == 3 && this'.__S1.Q_in.size() {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        this'.__S2.__run();
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if node == 4 && this'.__S2.Q_in.size() {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        this'.__S3.__run();
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if node == 5 && this'.__S3.Q_in.size() {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
action
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if action {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if action {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    (action,node) := this'.scheduler();
    def _if(){
        def _if(){
            (pkt,port) := this'.__H0.Q_out.takeFront();
            def _if(){
                this'.__S0.Q_in.pushBack((pkt,1));
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if port == 1 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if node == 0 && this'.__H0.Q_out.size() {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            (pkt,port) := this'.__H1.Q_out.takeFront();
            def _if(){
                this'.__S3.Q_in.pushBack((pkt,3));
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if port == 1 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if node == 1 && this'.__H1.Q_out.size() {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            (pkt,port) := this'.__S0.Q_out.takeFront();
            def _if(){
                this'.__H0.Q_in.pushBack((pkt,1));
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if port == 1 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                this'.__S1.Q_in.pushBack((pkt,1));
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if port == 2 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                this'.__S2.Q_in.pushBack((pkt,1));
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if port == 3 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if node == 2 && this'.__S0.Q_out.size() {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            (pkt,port) := this'.__S1.Q_out.takeFront();
            def _if(){
                this'.__S0.Q_in.pushBack((pkt,2));
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if port == 1 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                this'.__S3.Q_in.pushBack((pkt,1));
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if port == 2 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if node == 3 && this'.__S1.Q_out.size() {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            (pkt,port) := this'.__S2.Q_out.takeFront();
            def _if(){
                this'.__S0.Q_in.pushBack((pkt,3));
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if port == 1 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                this'.__S3.Q_in.pushBack((pkt,2));
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if port == 2 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if node == 4 && this'.__S2.Q_out.size() {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            (pkt,port) := this'.__S3.Q_out.takeFront();
            def _if(){
                this'.__S1.Q_in.pushBack((pkt,2));
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if port == 1 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                this'.__S2.Q_in.pushBack((pkt,2));
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if port == 2 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                this'.__H1.Q_in.pushBack((pkt,1));
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if port == 3 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if node == 5 && this'.__S3.Q_out.size() {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        return (1,this',0);
    }
    def _else(){
        def _if(){
            this'.__H0.__run();
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if node == 0 && this'.__H0.Q_in.size() {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            this'.__H1.__run();
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if node == 1 && this'.__H1.Q_in.size() {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            this'.__S0.__run();
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if node == 2 && this'.__S0.Q_in.size() {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            this'.__S1.__run();
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if node == 3 && this'.__S1.Q_in.size() {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            this'.__S2.__run();
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if node == 4 && this'.__S2.Q_in.size() {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            this'.__S3.__run();
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if node == 5 && this'.__S3.Q_in.size() {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        return (1,this',0);
    }
    def eval_if(){
        if action {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H0
 
Expression of type FieldExp:
this'.__H0
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__H0.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__H0.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__H0.Q_in.size()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H0
 
Expression of type FieldExp:
this'.__H0
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__H0.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__H0.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__H0.Q_out.size()
 
Expression of type ABinaryExp:
this'.__H0.Q_in.size() || this'.__H0.Q_out.size()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H1
 
Expression of type FieldExp:
this'.__H1
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__H1.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__H1.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__H1.Q_in.size()
 
Expression of type ABinaryExp:
this'.__H0.Q_in.size() || this'.__H0.Q_out.size() || this'.__H1.Q_in.size()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__H1
 
Expression of type FieldExp:
this'.__H1
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__H1.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__H1.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__H1.Q_out.size()
 
Expression of type ABinaryExp:
this'.__H0.Q_in.size() || this'.__H0.Q_out.size() || this'.__H1.Q_in.size() || this'.__H1.Q_out.size()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S0
 
Expression of type FieldExp:
this'.__S0
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S0.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S0.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S0.Q_in.size()
 
Expression of type ABinaryExp:
this'.__H0.Q_in.size() || this'.__H0.Q_out.size() || this'.__H1.Q_in.size() || this'.__H1.Q_out.size() || this'.__S0.Q_in.size()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S0
 
Expression of type FieldExp:
this'.__S0
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S0.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S0.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S0.Q_out.size()
 
Expression of type ABinaryExp:
this'.__H0.Q_in.size() || this'.__H0.Q_out.size() || this'.__H1.Q_in.size() || this'.__H1.Q_out.size() || this'.__S0.Q_in.size() || this'.__S0.Q_out.size()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S1
 
Expression of type FieldExp:
this'.__S1
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S1.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S1.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S1.Q_in.size()
 
Expression of type ABinaryExp:
this'.__H0.Q_in.size() || this'.__H0.Q_out.size() || this'.__H1.Q_in.size() || this'.__H1.Q_out.size() || this'.__S0.Q_in.size() || this'.__S0.Q_out.size() || this'.__S1.Q_in.size()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S1
 
Expression of type FieldExp:
this'.__S1
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S1.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S1.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S1.Q_out.size()
 
Expression of type ABinaryExp:
this'.__H0.Q_in.size() || this'.__H0.Q_out.size() || this'.__H1.Q_in.size() || this'.__H1.Q_out.size() || this'.__S0.Q_in.size() || this'.__S0.Q_out.size() || this'.__S1.Q_in.size() || this'.__S1.Q_out.size()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S2
 
Expression of type FieldExp:
this'.__S2
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S2.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S2.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S2.Q_in.size()
 
Expression of type ABinaryExp:
this'.__H0.Q_in.size() || this'.__H0.Q_out.size() || this'.__H1.Q_in.size() || this'.__H1.Q_out.size() || this'.__S0.Q_in.size() || this'.__S0.Q_out.size() || this'.__S1.Q_in.size() || this'.__S1.Q_out.size() || this'.__S2.Q_in.size()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S2
 
Expression of type FieldExp:
this'.__S2
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S2.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S2.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S2.Q_out.size()
 
Expression of type ABinaryExp:
this'.__H0.Q_in.size() || this'.__H0.Q_out.size() || this'.__H1.Q_in.size() || this'.__H1.Q_out.size() || this'.__S0.Q_in.size() || this'.__S0.Q_out.size() || this'.__S1.Q_in.size() || this'.__S1.Q_out.size() || this'.__S2.Q_in.size() || this'.__S2.Q_out.size()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S3
 
Expression of type FieldExp:
this'.__S3
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.__S3.Q_in
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S3.Q_in.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S3.Q_in.size()
 
Expression of type ABinaryExp:
this'.__H0.Q_in.size() || this'.__H0.Q_out.size() || this'.__H1.Q_in.size() || this'.__H1.Q_out.size() || this'.__S0.Q_in.size() || this'.__S0.Q_out.size() || this'.__S1.Q_in.size() || this'.__S1.Q_out.size() || this'.__S2.Q_in.size() || this'.__S2.Q_out.size() || this'.__S3.Q_in.size()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
__S3
 
Expression of type FieldExp:
this'.__S3
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.__S3.Q_out
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.__S3.Q_out.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.__S3.Q_out.size()
 
Expression of type ABinaryExp:
this'.__H0.Q_in.size() || this'.__H0.Q_out.size() || this'.__H1.Q_in.size() || this'.__H1.Q_out.size() || this'.__S0.Q_in.size() || this'.__S0.Q_out.size() || this'.__S1.Q_in.size() || this'.__S1.Q_out.size() || this'.__S2.Q_in.size() || this'.__S2.Q_out.size() || this'.__S3.Q_in.size() || this'.__S3.Q_out.size()
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if this'.__H0.Q_in.size() || this'.__H0.Q_out.size() || this'.__H1.Q_in.size() || this'.__H1.Q_out.size() || this'.__S0.Q_in.size() || this'.__S0.Q_out.size() || this'.__S1.Q_in.size() || this'.__S1.Q_out.size() || this'.__S2.Q_in.size() || this'.__S2.Q_out.size() || this'.__S3.Q_in.size() || this'.__S3.Q_out.size() {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if this'.__H0.Q_in.size() || this'.__H0.Q_out.size() || this'.__H1.Q_in.size() || this'.__H1.Q_out.size() || this'.__S0.Q_in.size() || this'.__S0.Q_out.size() || this'.__S1.Q_in.size() || this'.__S1.Q_out.size() || this'.__S2.Q_in.size() || this'.__S2.Q_out.size() || this'.__S3.Q_in.size() || this'.__S3.Q_out.size() {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type TupleExp:
()
 
Expression of type ReturnExp:
return ()
 
Expression of type FunctionDef:
def __step(){
    def _if(){
        (action,node) := this'.scheduler();
        def _if(){
            def _if(){
                (pkt,port) := this'.__H0.Q_out.takeFront();
                def _if(){
                    this'.__S0.Q_in.pushBack((pkt,1));
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if port == 1 {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if node == 0 && this'.__H0.Q_out.size() {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                (pkt,port) := this'.__H1.Q_out.takeFront();
                def _if(){
                    this'.__S3.Q_in.pushBack((pkt,3));
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if port == 1 {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if node == 1 && this'.__H1.Q_out.size() {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                (pkt,port) := this'.__S0.Q_out.takeFront();
                def _if(){
                    this'.__H0.Q_in.pushBack((pkt,1));
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if port == 1 {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__S1.Q_in.pushBack((pkt,1));
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if port == 2 {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__S2.Q_in.pushBack((pkt,1));
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if port == 3 {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if node == 2 && this'.__S0.Q_out.size() {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                (pkt,port) := this'.__S1.Q_out.takeFront();
                def _if(){
                    this'.__S0.Q_in.pushBack((pkt,2));
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if port == 1 {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__S3.Q_in.pushBack((pkt,1));
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if port == 2 {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if node == 3 && this'.__S1.Q_out.size() {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                (pkt,port) := this'.__S2.Q_out.takeFront();
                def _if(){
                    this'.__S0.Q_in.pushBack((pkt,3));
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if port == 1 {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__S3.Q_in.pushBack((pkt,2));
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if port == 2 {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if node == 4 && this'.__S2.Q_out.size() {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                (pkt,port) := this'.__S3.Q_out.takeFront();
                def _if(){
                    this'.__S1.Q_in.pushBack((pkt,2));
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if port == 1 {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__S2.Q_in.pushBack((pkt,2));
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if port == 2 {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__H1.Q_in.pushBack((pkt,1));
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if port == 3 {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if node == 5 && this'.__S3.Q_out.size() {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            return (1,this',0);
        }
        def _else(){
            def _if(){
                this'.__H0.__run();
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if node == 0 && this'.__H0.Q_in.size() {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                this'.__H1.__run();
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if node == 1 && this'.__H1.Q_in.size() {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                this'.__S0.__run();
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if node == 2 && this'.__S0.Q_in.size() {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                this'.__S1.__run();
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if node == 3 && this'.__S1.Q_in.size() {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                this'.__S2.__run();
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if node == 4 && this'.__S2.Q_in.size() {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            def _if(){
                this'.__S3.__run();
                return (1,this',0);
            }
            def _else(){
                return (1,this',0);
            }
            def eval_if(){
                if node == 5 && this'.__S3.Q_in.size() {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            return (1,this',0);
        }
        def eval_if(){
            if action {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if this'.__H0.Q_in.size() || this'.__H0.Q_out.size() || this'.__H1.Q_in.size() || this'.__H1.Q_out.size() || this'.__S0.Q_in.size() || this'.__S0.Q_out.size() || this'.__S1.Q_in.size() || this'.__S1.Q_out.size() || this'.__S2.Q_in.size() || this'.__S2.Q_out.size() || this'.__S3.Q_in.size() || this'.__S3.Q_out.size() {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    return ();
}
 
Expression of type CompoundDecl:
{
    __H0: __h0_ty , __H1: __h1_ty , __S0: __s0_ty , __S1: __s1_ty , __S2: __s2_ty , __S3: __s3_ty;
    num_actions: ℝ;
    def __D'(){
        this.__H0 = __h0_ty'();
        this.__H1 = __h1_ty'();
        this.__S0 = __s0_ty'();
        this.__S1 = __s1_ty'();
        this.__S2 = __s2_ty'();
        this.__S3 = __s3_ty'();
        this.num_actions = 0;
        return this;
    }
    def scheduler(){
        actions := ([]: (R × R)[]);
        for i in [0..6){
            def _if(){
                actions = actions ~ [(0,i)];
                return (1,actions,0);
            }
            def _else(){
                return (1,actions,0);
            }
            def eval_if(){
                if (if i == 0 {
                    this'.__H0.Q_in;
                } else if i == 1 {
                    this'.__H1.Q_in;
                } else if i == 2 {
                    this'.__S0.Q_in;
                } else if i == 3 {
                    this'.__S1.Q_in;
                } else if i == 4 {
                    this'.__S2.Q_in;
                } else {
                    this'.__S3.Q_in;
                }).size() > 0 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            actions = _ret[1];
            def _if(){
                actions = actions ~ [(1,i)];
                return (1,actions,0);
            }
            def _else(){
                return (1,actions,0);
            }
            def eval_if(){
                if (if i == 0 {
                    this'.__H0.Q_out;
                } else if i == 1 {
                    this'.__H1.Q_out;
                } else if i == 2 {
                    this'.__S0.Q_out;
                } else if i == 3 {
                    this'.__S1.Q_out;
                } else if i == 4 {
                    this'.__S2.Q_out;
                } else {
                    this'.__S3.Q_out;
                }).size() > 0 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            actions = _ret[1];
        }
        this'.num_actions = this'.num_actions + 1;
        return actions[uniformInt(0,actions.length - 1)];
    }
    def __step(){
        def _if(){
            (action,node) := this'.scheduler();
            def _if(){
                def _if(){
                    (pkt,port) := this'.__H0.Q_out.takeFront();
                    def _if(){
                        this'.__S0.Q_in.pushBack((pkt,1));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 1 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 0 && this'.__H0.Q_out.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    (pkt,port) := this'.__H1.Q_out.takeFront();
                    def _if(){
                        this'.__S3.Q_in.pushBack((pkt,3));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 1 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 1 && this'.__H1.Q_out.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    (pkt,port) := this'.__S0.Q_out.takeFront();
                    def _if(){
                        this'.__H0.Q_in.pushBack((pkt,1));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 1 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    def _if(){
                        this'.__S1.Q_in.pushBack((pkt,1));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 2 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    def _if(){
                        this'.__S2.Q_in.pushBack((pkt,1));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 3 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 2 && this'.__S0.Q_out.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    (pkt,port) := this'.__S1.Q_out.takeFront();
                    def _if(){
                        this'.__S0.Q_in.pushBack((pkt,2));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 1 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    def _if(){
                        this'.__S3.Q_in.pushBack((pkt,1));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 2 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 3 && this'.__S1.Q_out.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    (pkt,port) := this'.__S2.Q_out.takeFront();
                    def _if(){
                        this'.__S0.Q_in.pushBack((pkt,3));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 1 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    def _if(){
                        this'.__S3.Q_in.pushBack((pkt,2));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 2 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 4 && this'.__S2.Q_out.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    (pkt,port) := this'.__S3.Q_out.takeFront();
                    def _if(){
                        this'.__S1.Q_in.pushBack((pkt,2));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 1 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    def _if(){
                        this'.__S2.Q_in.pushBack((pkt,2));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 2 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    def _if(){
                        this'.__H1.Q_in.pushBack((pkt,1));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 3 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 5 && this'.__S3.Q_out.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                return (1,this',0);
            }
            def _else(){
                def _if(){
                    this'.__H0.__run();
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 0 && this'.__H0.Q_in.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__H1.__run();
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 1 && this'.__H1.Q_in.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__S0.__run();
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 2 && this'.__S0.Q_in.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__S1.__run();
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 3 && this'.__S1.Q_in.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__S2.__run();
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 4 && this'.__S2.Q_in.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__S3.__run();
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 5 && this'.__S3.Q_in.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                return (1,this',0);
            }
            def eval_if(){
                if action {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if this'.__H0.Q_in.size() || this'.__H0.Q_out.size() || this'.__H1.Q_in.size() || this'.__H1.Q_out.size() || this'.__S0.Q_in.size() || this'.__S0.Q_out.size() || this'.__S1.Q_in.size() || this'.__S1.Q_out.size() || this'.__S2.Q_in.size() || this'.__S2.Q_out.size() || this'.__S3.Q_in.size() || this'.__S3.Q_out.size() {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        return ();
    }
}
 
Expression of type DatDecl:
dat __D{
    __H0: __h0_ty , __H1: __h1_ty , __S0: __s0_ty , __S1: __s1_ty , __S2: __s2_ty , __S3: __s3_ty;
    num_actions: ℝ;
    def __D'(){
        this.__H0 = __h0_ty'();
        this.__H1 = __h1_ty'();
        this.__S0 = __s0_ty'();
        this.__S1 = __s1_ty'();
        this.__S2 = __s2_ty'();
        this.__S3 = __s3_ty'();
        this.num_actions = 0;
        return this;
    }
    def scheduler(){
        actions := ([]: (R × R)[]);
        for i in [0..6){
            def _if(){
                actions = actions ~ [(0,i)];
                return (1,actions,0);
            }
            def _else(){
                return (1,actions,0);
            }
            def eval_if(){
                if (if i == 0 {
                    this'.__H0.Q_in;
                } else if i == 1 {
                    this'.__H1.Q_in;
                } else if i == 2 {
                    this'.__S0.Q_in;
                } else if i == 3 {
                    this'.__S1.Q_in;
                } else if i == 4 {
                    this'.__S2.Q_in;
                } else {
                    this'.__S3.Q_in;
                }).size() > 0 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            actions = _ret[1];
            def _if(){
                actions = actions ~ [(1,i)];
                return (1,actions,0);
            }
            def _else(){
                return (1,actions,0);
            }
            def eval_if(){
                if (if i == 0 {
                    this'.__H0.Q_out;
                } else if i == 1 {
                    this'.__H1.Q_out;
                } else if i == 2 {
                    this'.__S0.Q_out;
                } else if i == 3 {
                    this'.__S1.Q_out;
                } else if i == 4 {
                    this'.__S2.Q_out;
                } else {
                    this'.__S3.Q_out;
                }).size() > 0 {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            actions = _ret[1];
        }
        this'.num_actions = this'.num_actions + 1;
        return actions[uniformInt(0,actions.length - 1)];
    }
    def __step(){
        def _if(){
            (action,node) := this'.scheduler();
            def _if(){
                def _if(){
                    (pkt,port) := this'.__H0.Q_out.takeFront();
                    def _if(){
                        this'.__S0.Q_in.pushBack((pkt,1));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 1 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 0 && this'.__H0.Q_out.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    (pkt,port) := this'.__H1.Q_out.takeFront();
                    def _if(){
                        this'.__S3.Q_in.pushBack((pkt,3));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 1 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 1 && this'.__H1.Q_out.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    (pkt,port) := this'.__S0.Q_out.takeFront();
                    def _if(){
                        this'.__H0.Q_in.pushBack((pkt,1));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 1 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    def _if(){
                        this'.__S1.Q_in.pushBack((pkt,1));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 2 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    def _if(){
                        this'.__S2.Q_in.pushBack((pkt,1));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 3 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 2 && this'.__S0.Q_out.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    (pkt,port) := this'.__S1.Q_out.takeFront();
                    def _if(){
                        this'.__S0.Q_in.pushBack((pkt,2));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 1 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    def _if(){
                        this'.__S3.Q_in.pushBack((pkt,1));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 2 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 3 && this'.__S1.Q_out.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    (pkt,port) := this'.__S2.Q_out.takeFront();
                    def _if(){
                        this'.__S0.Q_in.pushBack((pkt,3));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 1 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    def _if(){
                        this'.__S3.Q_in.pushBack((pkt,2));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 2 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 4 && this'.__S2.Q_out.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    (pkt,port) := this'.__S3.Q_out.takeFront();
                    def _if(){
                        this'.__S1.Q_in.pushBack((pkt,2));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 1 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    def _if(){
                        this'.__S2.Q_in.pushBack((pkt,2));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 2 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    def _if(){
                        this'.__H1.Q_in.pushBack((pkt,1));
                        return (1,this',0);
                    }
                    def _else(){
                        return (1,this',0);
                    }
                    def eval_if(){
                        if port == 3 {
                            return _if();
                        } else {
                            return _else();
                        }
                    }
                    _ret := eval_if();
                    this' = _ret[1];
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 5 && this'.__S3.Q_out.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                return (1,this',0);
            }
            def _else(){
                def _if(){
                    this'.__H0.__run();
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 0 && this'.__H0.Q_in.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__H1.__run();
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 1 && this'.__H1.Q_in.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__S0.__run();
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 2 && this'.__S0.Q_in.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__S1.__run();
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 3 && this'.__S1.Q_in.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__S2.__run();
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 4 && this'.__S2.Q_in.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                def _if(){
                    this'.__S3.__run();
                    return (1,this',0);
                }
                def _else(){
                    return (1,this',0);
                }
                def eval_if(){
                    if node == 5 && this'.__S3.Q_in.size() {
                        return _if();
                    } else {
                        return _else();
                    }
                }
                _ret := eval_if();
                this' = _ret[1];
                return (1,this',0);
            }
            def eval_if(){
                if action {
                    return _if();
                } else {
                    return _else();
                }
            }
            _ret := eval_if();
            this' = _ret[1];
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if this'.__H0.Q_in.size() || this'.__H0.Q_out.size() || this'.__H1.Q_in.size() || this'.__H1.Q_out.size() || this'.__S0.Q_in.size() || this'.__S0.Q_out.size() || this'.__S1.Q_in.size() || this'.__S1.Q_out.size() || this'.__S2.Q_in.size() || this'.__S2.Q_out.size() || this'.__S3.Q_in.size() || this'.__S3.Q_out.size() {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        return ();
    }
}
 
done with forToWhile
whileToRec normalization...
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
done with whileToRec
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
done with tuplesNormalizer
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
done with unreachableNormalizer
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
the following needs to be in a var:
(0,i_1)
the following needs to be in a var:
(1,i_1)
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
TODO: not all types of Expression covered:
ℝ × (ℝ × ℝ)[]
def outside of main:(normalized)
dat __D{
    __H0: __h0_ty , __H1: __h1_ty , __S0: __s0_ty , __S1: __s1_ty , __S2: __s2_ty , __S3: __s3_ty;
    num_actions: ℝ;
    def __D'(){
        subExp_CallExp_1 := __h0_ty();
        this.__H0 = subExp_CallExp_1;
        subExp_CallExp_2 := __h1_ty();
        this.__H1 = subExp_CallExp_2;
        subExp_CallExp_3 := __s0_ty();
        this.__S0 = subExp_CallExp_3;
        subExp_CallExp_4 := __s1_ty();
        this.__S1 = subExp_CallExp_4;
        subExp_CallExp_5 := __s2_ty();
        this.__S2 = subExp_CallExp_5;
        subExp_CallExp_6 := __s3_ty();
        this.__S3 = subExp_CallExp_6;
        this.num_actions = 0;
        return this;
    }
    def scheduler(){
        actions_0 := ([]: (R × R)[]);
        i_0 := 0;
        def loop_body_0(_args_0: ℝ × (ℝ × ℝ)[]){
            _tuple_0 := _args_0;
            i_1 := _tuple_0[0];
            actions_1 := _tuple_0[1];
            subExp_7 := i_1 < 6;
            if subExp_7 {
                def _if_0(){
                    subExpArr_9 := (0,i_1);
                    subExp_8 := [subExpArr_9];
                    actions_2 := actions_1 ~ subExp_8;
                    subExp_10 := (1,actions_2,0);
                    return subExp_10;
                }
                def _else_0(){
                    subExp_11 := (1,actions_1,0);
                    return subExp_11;
                }
                def eval_if_0(){
                    subExp_15 := (if i_1 == 0 {
                        this.__H0.Q_in;
                    } else if i_1 == 1 {
                        this.__H1.Q_in;
                    } else if i_1 == 2 {
                        this.__S0.Q_in;
                    } else if i_1 == 3 {
                        this.__S1.Q_in;
                    } else if i_1 == 4 {
                        this.__S2.Q_in;
                    } else {
                        this.__S3.Q_in;
                    }).size();
                    subExp_12 := subExp_15 > 0;
                    if subExp_12 {
                        subExp_13 := _if_0();
                        return subExp_13;
                    } else {
                        subExp_14 := _else_0();
                        return subExp_14;
                    }
                }
                _ret_0 := eval_if_0();
                actions_2 := _ret_0[1];
                def _if_1(){
                    subExpArr_17 := (1,i_1);
                    subExp_16 := [subExpArr_17];
                    actions_3 := actions_2 ~ subExp_16;
                    subExp_18 := (1,actions_3,0);
                    return subExp_18;
                }
                def _else_1(){
                    subExp_19 := (1,actions_2,0);
                    return subExp_19;
                }
                def eval_if_1(){
                    subExp_23 := (if i_1 == 0 {
                        this.__H0.Q_out;
                    } else if i_1 == 1 {
                        this.__H1.Q_out;
                    } else if i_1 == 2 {
                        this.__S0.Q_out;
                    } else if i_1 == 3 {
                        this.__S1.Q_out;
                    } else if i_1 == 4 {
                        this.__S2.Q_out;
                    } else {
                        this.__S3.Q_out;
                    }).size();
                    subExp_20 := subExp_23 > 0;
                    if subExp_20 {
                        subExp_21 := _if_1();
                        return subExp_21;
                    } else {
                        subExp_22 := _else_1();
                        return subExp_22;
                    }
                }
                _ret_1 := eval_if_1();
                actions_3 := _ret_1[1];
                i_2 := i_1 + 1;
                _new_args_0 := (i_2,actions_3);
                subExp_24 := (0,_new_args_0,0);
                return subExp_24;
            } else {
                subExp_25 := (1,_args_0,0);
                return subExp_25;
            }
        }
        def _loop_0(arg_0){
            loop_body_1 := arg_0[0];
            args_0 := arg_0[1];
            k_0 := loop_body_1(args_0);
            subExp_27 := k_0[0];
            subExp_26 := subExp_27 != 0;
            if subExp_26 {
                return k_0;
            }
            subExp_arg_29 := k_0[1];
            subExp_28 := _loop_0(loop_body_1,subExp_arg_29);
            return subExp_28;
        }
        _args_0 := (i_0,actions_0);
        _ret_0 := _loop_0(loop_body_0,_args_0);
        _tuple_0 := _ret_0[1];
        i_1 := _tuple_0[0];
        actions_1 := _tuple_0[1];
        subExp_30 := this.num_actions;
        this.num_actions = subExp_30 + 1;
        subExp_arg_33 := 0;
        subExp_35 := actions_1.length;
        subExp_arg_34 := subExp_35 - 1;
        subExpArr_32 := uniformInt(subExp_arg_33,subExp_arg_34);
        subExp_31 := actions_1[subExpArr_32];
        return subExp_31;
    }
    def __step(){
        def _if_0(){
            _tuple_0 := this.scheduler();
            action_0 := _tuple_0[0];
            node_0 := _tuple_0[1];
            def _if_1(){
                def _if_2(){
                    _tuple_1 := this.__H0.Q_out.takeFront();
                    pkt_0 := _tuple_1[0];
                    port_0 := _tuple_1[1];
                    def _if_3(){
                        subExp_arg_36 := 1;
                        this.__S0.Q_in.pushBack(pkt_0,subExp_arg_36);
                        subExp_37 := (1,this,0);
                        return subExp_37;
                    }
                    def _else_0(){
                        subExp_38 := (1,this,0);
                        return subExp_38;
                    }
                    def eval_if_0(){
                        subExp_39 := port_0 == 1;
                        if subExp_39 {
                            subExp_40 := _if_3();
                            return subExp_40;
                        } else {
                            subExp_41 := _else_0();
                            return subExp_41;
                        }
                    }
                    _ret_0 := eval_if_0();
                    this = _ret_0[1];
                    subExp_42 := (1,this,0);
                    return subExp_42;
                }
                def _else_0(){
                    subExp_43 := (1,this,0);
                    return subExp_43;
                }
                def eval_if_0(){
                    subExp_47 := node_0 == 0;
                    subExp_48 := this.__H0.Q_out.size();
                    subExp_44 := subExp_47 && subExp_48;
                    if subExp_44 {
                        subExp_45 := _if_2();
                        return subExp_45;
                    } else {
                        subExp_46 := _else_0();
                        return subExp_46;
                    }
                }
                _ret_0 := eval_if_0();
                this = _ret_0[1];
                def _if_3(){
                    _tuple_1 := this.__H1.Q_out.takeFront();
                    pkt_0 := _tuple_1[0];
                    port_0 := _tuple_1[1];
                    def _if_4(){
                        subExp_arg_49 := 3;
                        this.__S3.Q_in.pushBack(pkt_0,subExp_arg_49);
                        subExp_50 := (1,this,0);
                        return subExp_50;
                    }
                    def _else_1(){
                        subExp_51 := (1,this,0);
                        return subExp_51;
                    }
                    def eval_if_1(){
                        subExp_52 := port_0 == 1;
                        if subExp_52 {
                            subExp_53 := _if_4();
                            return subExp_53;
                        } else {
                            subExp_54 := _else_1();
                            return subExp_54;
                        }
                    }
                    _ret_1 := eval_if_1();
                    this = _ret_1[1];
                    subExp_55 := (1,this,0);
                    return subExp_55;
                }
                def _else_1(){
                    subExp_56 := (1,this,0);
                    return subExp_56;
                }
                def eval_if_1(){
                    subExp_60 := node_0 == 1;
                    subExp_61 := this.__H1.Q_out.size();
                    subExp_57 := subExp_60 && subExp_61;
                    if subExp_57 {
                        subExp_58 := _if_3();
                        return subExp_58;
                    } else {
                        subExp_59 := _else_1();
                        return subExp_59;
                    }
                }
                _ret_1 := eval_if_1();
                this = _ret_1[1];
                def _if_4(){
                    _tuple_1 := this.__S0.Q_out.takeFront();
                    pkt_0 := _tuple_1[0];
                    port_0 := _tuple_1[1];
                    def _if_5(){
                        subExp_arg_62 := 1;
                        this.__H0.Q_in.pushBack(pkt_0,subExp_arg_62);
                        subExp_63 := (1,this,0);
                        return subExp_63;
                    }
                    def _else_2(){
                        subExp_64 := (1,this,0);
                        return subExp_64;
                    }
                    def eval_if_2(){
                        subExp_65 := port_0 == 1;
                        if subExp_65 {
                            subExp_66 := _if_5();
                            return subExp_66;
                        } else {
                            subExp_67 := _else_2();
                            return subExp_67;
                        }
                    }
                    _ret_2 := eval_if_2();
                    this = _ret_2[1];
                    def _if_6(){
                        subExp_arg_68 := 1;
                        this.__S1.Q_in.pushBack(pkt_0,subExp_arg_68);
                        subExp_69 := (1,this,0);
                        return subExp_69;
                    }
                    def _else_3(){
                        subExp_70 := (1,this,0);
                        return subExp_70;
                    }
                    def eval_if_3(){
                        subExp_71 := port_0 == 2;
                        if subExp_71 {
                            subExp_72 := _if_6();
                            return subExp_72;
                        } else {
                            subExp_73 := _else_3();
                            return subExp_73;
                        }
                    }
                    _ret_3 := eval_if_3();
                    this = _ret_3[1];
                    def _if_7(){
                        subExp_arg_74 := 1;
                        this.__S2.Q_in.pushBack(pkt_0,subExp_arg_74);
                        subExp_75 := (1,this,0);
                        return subExp_75;
                    }
                    def _else_4(){
                        subExp_76 := (1,this,0);
                        return subExp_76;
                    }
                    def eval_if_4(){
                        subExp_77 := port_0 == 3;
                        if subExp_77 {
                            subExp_78 := _if_7();
                            return subExp_78;
                        } else {
                            subExp_79 := _else_4();
                            return subExp_79;
                        }
                    }
                    _ret_4 := eval_if_4();
                    this = _ret_4[1];
                    subExp_80 := (1,this,0);
                    return subExp_80;
                }
                def _else_2(){
                    subExp_81 := (1,this,0);
                    return subExp_81;
                }
                def eval_if_2(){
                    subExp_85 := node_0 == 2;
                    subExp_86 := this.__S0.Q_out.size();
                    subExp_82 := subExp_85 && subExp_86;
                    if subExp_82 {
                        subExp_83 := _if_4();
                        return subExp_83;
                    } else {
                        subExp_84 := _else_2();
                        return subExp_84;
                    }
                }
                _ret_2 := eval_if_2();
                this = _ret_2[1];
                def _if_5(){
                    _tuple_1 := this.__S1.Q_out.takeFront();
                    pkt_0 := _tuple_1[0];
                    port_0 := _tuple_1[1];
                    def _if_6(){
                        subExp_arg_87 := 2;
                        this.__S0.Q_in.pushBack(pkt_0,subExp_arg_87);
                        subExp_88 := (1,this,0);
                        return subExp_88;
                    }
                    def _else_3(){
                        subExp_89 := (1,this,0);
                        return subExp_89;
                    }
                    def eval_if_3(){
                        subExp_90 := port_0 == 1;
                        if subExp_90 {
                            subExp_91 := _if_6();
                            return subExp_91;
                        } else {
                            subExp_92 := _else_3();
                            return subExp_92;
                        }
                    }
                    _ret_3 := eval_if_3();
                    this = _ret_3[1];
                    def _if_7(){
                        subExp_arg_93 := 1;
                        this.__S3.Q_in.pushBack(pkt_0,subExp_arg_93);
                        subExp_94 := (1,this,0);
                        return subExp_94;
                    }
                    def _else_4(){
                        subExp_95 := (1,this,0);
                        return subExp_95;
                    }
                    def eval_if_4(){
                        subExp_96 := port_0 == 2;
                        if subExp_96 {
                            subExp_97 := _if_7();
                            return subExp_97;
                        } else {
                            subExp_98 := _else_4();
                            return subExp_98;
                        }
                    }
                    _ret_4 := eval_if_4();
                    this = _ret_4[1];
                    subExp_99 := (1,this,0);
                    return subExp_99;
                }
                def _else_3(){
                    subExp_100 := (1,this,0);
                    return subExp_100;
                }
                def eval_if_3(){
                    subExp_104 := node_0 == 3;
                    subExp_105 := this.__S1.Q_out.size();
                    subExp_101 := subExp_104 && subExp_105;
                    if subExp_101 {
                        subExp_102 := _if_5();
                        return subExp_102;
                    } else {
                        subExp_103 := _else_3();
                        return subExp_103;
                    }
                }
                _ret_3 := eval_if_3();
                this = _ret_3[1];
                def _if_6(){
                    _tuple_1 := this.__S2.Q_out.takeFront();
                    pkt_0 := _tuple_1[0];
                    port_0 := _tuple_1[1];
                    def _if_7(){
                        subExp_arg_106 := 3;
                        this.__S0.Q_in.pushBack(pkt_0,subExp_arg_106);
                        subExp_107 := (1,this,0);
                        return subExp_107;
                    }
                    def _else_4(){
                        subExp_108 := (1,this,0);
                        return subExp_108;
                    }
                    def eval_if_4(){
                        subExp_109 := port_0 == 1;
                        if subExp_109 {
                            subExp_110 := _if_7();
                            return subExp_110;
                        } else {
                            subExp_111 := _else_4();
                            return subExp_111;
                        }
                    }
                    _ret_4 := eval_if_4();
                    this = _ret_4[1];
                    def _if_8(){
                        subExp_arg_112 := 2;
                        this.__S3.Q_in.pushBack(pkt_0,subExp_arg_112);
                        subExp_113 := (1,this,0);
                        return subExp_113;
                    }
                    def _else_5(){
                        subExp_114 := (1,this,0);
                        return subExp_114;
                    }
                    def eval_if_5(){
                        subExp_115 := port_0 == 2;
                        if subExp_115 {
                            subExp_116 := _if_8();
                            return subExp_116;
                        } else {
                            subExp_117 := _else_5();
                            return subExp_117;
                        }
                    }
                    _ret_5 := eval_if_5();
                    this = _ret_5[1];
                    subExp_118 := (1,this,0);
                    return subExp_118;
                }
                def _else_4(){
                    subExp_119 := (1,this,0);
                    return subExp_119;
                }
                def eval_if_4(){
                    subExp_123 := node_0 == 4;
                    subExp_124 := this.__S2.Q_out.size();
                    subExp_120 := subExp_123 && subExp_124;
                    if subExp_120 {
                        subExp_121 := _if_6();
                        return subExp_121;
                    } else {
                        subExp_122 := _else_4();
                        return subExp_122;
                    }
                }
                _ret_4 := eval_if_4();
                this = _ret_4[1];
                def _if_7(){
                    _tuple_1 := this.__S3.Q_out.takeFront();
                    pkt_0 := _tuple_1[0];
                    port_0 := _tuple_1[1];
                    def _if_8(){
                        subExp_arg_125 := 2;
                        this.__S1.Q_in.pushBack(pkt_0,subExp_arg_125);
                        subExp_126 := (1,this,0);
                        return subExp_126;
                    }
                    def _else_5(){
                        subExp_127 := (1,this,0);
                        return subExp_127;
                    }
                    def eval_if_5(){
                        subExp_128 := port_0 == 1;
                        if subExp_128 {
                            subExp_129 := _if_8();
                            return subExp_129;
                        } else {
                            subExp_130 := _else_5();
                            return subExp_130;
                        }
                    }
                    _ret_5 := eval_if_5();
                    this = _ret_5[1];
                    def _if_9(){
                        subExp_arg_131 := 2;
                        this.__S2.Q_in.pushBack(pkt_0,subExp_arg_131);
                        subExp_132 := (1,this,0);
                        return subExp_132;
                    }
                    def _else_6(){
                        subExp_133 := (1,this,0);
                        return subExp_133;
                    }
                    def eval_if_6(){
                        subExp_134 := port_0 == 2;
                        if subExp_134 {
                            subExp_135 := _if_9();
                            return subExp_135;
                        } else {
                            subExp_136 := _else_6();
                            return subExp_136;
                        }
                    }
                    _ret_6 := eval_if_6();
                    this = _ret_6[1];
                    def _if_10(){
                        subExp_arg_137 := 1;
                        this.__H1.Q_in.pushBack(pkt_0,subExp_arg_137);
                        subExp_138 := (1,this,0);
                        return subExp_138;
                    }
                    def _else_7(){
                        subExp_139 := (1,this,0);
                        return subExp_139;
                    }
                    def eval_if_7(){
                        subExp_140 := port_0 == 3;
                        if subExp_140 {
                            subExp_141 := _if_10();
                            return subExp_141;
                        } else {
                            subExp_142 := _else_7();
                            return subExp_142;
                        }
                    }
                    _ret_7 := eval_if_7();
                    this = _ret_7[1];
                    subExp_143 := (1,this,0);
                    return subExp_143;
                }
                def _else_5(){
                    subExp_144 := (1,this,0);
                    return subExp_144;
                }
                def eval_if_5(){
                    subExp_148 := node_0 == 5;
                    subExp_149 := this.__S3.Q_out.size();
                    subExp_145 := subExp_148 && subExp_149;
                    if subExp_145 {
                        subExp_146 := _if_7();
                        return subExp_146;
                    } else {
                        subExp_147 := _else_5();
                        return subExp_147;
                    }
                }
                _ret_5 := eval_if_5();
                this = _ret_5[1];
                subExp_150 := (1,this,0);
                return subExp_150;
            }
            def _else_0(){
                def _if_2(){
                    this.__H0.__run();
                    subExp_151 := (1,this,0);
                    return subExp_151;
                }
                def _else_1(){
                    subExp_152 := (1,this,0);
                    return subExp_152;
                }
                def eval_if_0(){
                    subExp_156 := node_0 == 0;
                    subExp_157 := this.__H0.Q_in.size();
                    subExp_153 := subExp_156 && subExp_157;
                    if subExp_153 {
                        subExp_154 := _if_2();
                        return subExp_154;
                    } else {
                        subExp_155 := _else_1();
                        return subExp_155;
                    }
                }
                _ret_0 := eval_if_0();
                this = _ret_0[1];
                def _if_3(){
                    this.__H1.__run();
                    subExp_158 := (1,this,0);
                    return subExp_158;
                }
                def _else_2(){
                    subExp_159 := (1,this,0);
                    return subExp_159;
                }
                def eval_if_1(){
                    subExp_163 := node_0 == 1;
                    subExp_164 := this.__H1.Q_in.size();
                    subExp_160 := subExp_163 && subExp_164;
                    if subExp_160 {
                        subExp_161 := _if_3();
                        return subExp_161;
                    } else {
                        subExp_162 := _else_2();
                        return subExp_162;
                    }
                }
                _ret_1 := eval_if_1();
                this = _ret_1[1];
                def _if_4(){
                    this.__S0.__run();
                    subExp_165 := (1,this,0);
                    return subExp_165;
                }
                def _else_3(){
                    subExp_166 := (1,this,0);
                    return subExp_166;
                }
                def eval_if_2(){
                    subExp_170 := node_0 == 2;
                    subExp_171 := this.__S0.Q_in.size();
                    subExp_167 := subExp_170 && subExp_171;
                    if subExp_167 {
                        subExp_168 := _if_4();
                        return subExp_168;
                    } else {
                        subExp_169 := _else_3();
                        return subExp_169;
                    }
                }
                _ret_2 := eval_if_2();
                this = _ret_2[1];
                def _if_5(){
                    this.__S1.__run();
                    subExp_172 := (1,this,0);
                    return subExp_172;
                }
                def _else_4(){
                    subExp_173 := (1,this,0);
                    return subExp_173;
                }
                def eval_if_3(){
                    subExp_177 := node_0 == 3;
                    subExp_178 := this.__S1.Q_in.size();
                    subExp_174 := subExp_177 && subExp_178;
                    if subExp_174 {
                        subExp_175 := _if_5();
                        return subExp_175;
                    } else {
                        subExp_176 := _else_4();
                        return subExp_176;
                    }
                }
                _ret_3 := eval_if_3();
                this = _ret_3[1];
                def _if_6(){
                    this.__S2.__run();
                    subExp_179 := (1,this,0);
                    return subExp_179;
                }
                def _else_5(){
                    subExp_180 := (1,this,0);
                    return subExp_180;
                }
                def eval_if_4(){
                    subExp_184 := node_0 == 4;
                    subExp_185 := this.__S2.Q_in.size();
                    subExp_181 := subExp_184 && subExp_185;
                    if subExp_181 {
                        subExp_182 := _if_6();
                        return subExp_182;
                    } else {
                        subExp_183 := _else_5();
                        return subExp_183;
                    }
                }
                _ret_4 := eval_if_4();
                this = _ret_4[1];
                def _if_7(){
                    this.__S3.__run();
                    subExp_186 := (1,this,0);
                    return subExp_186;
                }
                def _else_6(){
                    subExp_187 := (1,this,0);
                    return subExp_187;
                }
                def eval_if_5(){
                    subExp_191 := node_0 == 5;
                    subExp_192 := this.__S3.Q_in.size();
                    subExp_188 := subExp_191 && subExp_192;
                    if subExp_188 {
                        subExp_189 := _if_7();
                        return subExp_189;
                    } else {
                        subExp_190 := _else_6();
                        return subExp_190;
                    }
                }
                _ret_5 := eval_if_5();
                this = _ret_5[1];
                subExp_193 := (1,this,0);
                return subExp_193;
            }
            def eval_if_0(){
                if action_0 {
                    subExp_194 := _if_1();
                    return subExp_194;
                } else {
                    subExp_195 := _else_0();
                    return subExp_195;
                }
            }
            _ret_0 := eval_if_0();
            this = _ret_0[1];
            subExp_196 := (1,this,0);
            return subExp_196;
        }
        def _else_0(){
            subExp_197 := (1,this,0);
            return subExp_197;
        }
        def eval_if_0(){
            subExp_221 := this.__H0.Q_in.size();
            subExp_222 := this.__H0.Q_out.size();
            subExp_219 := subExp_221 || subExp_222;
            subExp_220 := this.__H1.Q_in.size();
            subExp_217 := subExp_219 || subExp_220;
            subExp_218 := this.__H1.Q_out.size();
            subExp_215 := subExp_217 || subExp_218;
            subExp_216 := this.__S0.Q_in.size();
            subExp_213 := subExp_215 || subExp_216;
            subExp_214 := this.__S0.Q_out.size();
            subExp_211 := subExp_213 || subExp_214;
            subExp_212 := this.__S1.Q_in.size();
            subExp_209 := subExp_211 || subExp_212;
            subExp_210 := this.__S1.Q_out.size();
            subExp_207 := subExp_209 || subExp_210;
            subExp_208 := this.__S2.Q_in.size();
            subExp_205 := subExp_207 || subExp_208;
            subExp_206 := this.__S2.Q_out.size();
            subExp_203 := subExp_205 || subExp_206;
            subExp_204 := this.__S3.Q_in.size();
            subExp_201 := subExp_203 || subExp_204;
            subExp_202 := this.__S3.Q_out.size();
            subExp_198 := subExp_201 || subExp_202;
            if subExp_198 {
                subExp_199 := _if_0();
                return subExp_199;
            } else {
                subExp_200 := _else_0();
                return subExp_200;
            }
        }
        _ret_0 := eval_if_0();
        this = _ret_0[1];
        subExp_223 := ();
        return subExp_223;
    }
}
illegal thing in data declaration:
__H0: __h0_ty , __H1: __h1_ty , __S0: __s0_ty , __S1: __s1_ty , __S2: __s2_ty , __S3: __s3_ty

translating meaning of __h0_ty
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
done with ifElseFunctional
Expression of type Identifier:
__h0_ty
 
Expression of type Identifier:
Q_in
 
Expression of type Identifier:
Queue
 
Expression of type VarDecl:
Q_in: Queue
 
Expression of type Identifier:
Q_out
 
Expression of type Identifier:
Queue
 
Expression of type VarDecl:
Q_out: Queue
 
Expression of type ABinaryExp:
Q_in: Queue , Q_out: Queue
 
Expression of type Identifier:
__h0_ty
 
Expression of type Identifier:
this
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this.Q_in
 
Expression of type Identifier:
Queue'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
Queue'()
 
Expression of type ABinaryExp:
this.Q_in = Queue'()
 
Expression of type Identifier:
this
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this.Q_out
 
Expression of type Identifier:
Queue'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
Queue'()
 
Expression of type ABinaryExp:
this.Q_out = Queue'()
 
Expression of type Identifier:
this
 
Expression of type ReturnExp:
return this
 
Expression of type FunctionDef:
def __h0_ty'(){
    this.Q_in = Queue'();
    this.Q_out = Queue'();
    return this;
}
 
Expression of type Identifier:
__run
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.Q_out
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.Q_out.pushBack
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.Q_in
 
Expression of type Identifier:
takeFront
 
Expression of type FieldExp:
this'.Q_in.takeFront
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.Q_in.takeFront()
 
Expression of type LiteralExp:
0
 
Expression of type IndexExp:
this'.Q_in.takeFront()[0]
 
Expression of type LiteralExp:
1
 
Expression of type TupleExp:
((this'.Q_in.takeFront()[0],1))
 
Expression of type CallExp:
this'.Q_out.pushBack((this'.Q_in.takeFront()[0],1))
 
Expression of type TupleExp:
()
 
Expression of type ReturnExp:
return ()
 
Expression of type FunctionDef:
def __run(){
    this'.Q_out.pushBack((this'.Q_in.takeFront()[0],1));
    return ();
}
 
Expression of type CompoundDecl:
{
    Q_in: Queue , Q_out: Queue;
    def __h0_ty'(){
        this.Q_in = Queue'();
        this.Q_out = Queue'();
        return this;
    }
    def __run(){
        this'.Q_out.pushBack((this'.Q_in.takeFront()[0],1));
        return ();
    }
}
 
Expression of type DatDecl:
dat __h0_ty{
    Q_in: Queue , Q_out: Queue;
    def __h0_ty'(){
        this.Q_in = Queue'();
        this.Q_out = Queue'();
        return this;
    }
    def __run(){
        this'.Q_out.pushBack((this'.Q_in.takeFront()[0],1));
        return ();
    }
}
 
done with forToWhile
whileToRec normalization...
done with whileToRec
done with tuplesNormalizer
done with unreachableNormalizer
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
def outside of main:(normalized)
dat __h0_ty{
    Q_in: Queue , Q_out: Queue;
    def __h0_ty'(){
        subExp_CallExp_1 := Queue();
        this.Q_in = subExp_CallExp_1;
        subExp_CallExp_2 := Queue();
        this.Q_out = subExp_CallExp_2;
        return this;
    }
    def __run(){
        subExp_5 := this.Q_in.takeFront();
        subExp_arg_3 := subExp_5[0];
        subExp_arg_4 := 1;
        this.Q_out.pushBack(subExp_arg_3,subExp_arg_4);
        subExp_6 := ();
        return subExp_6;
    }
}
illegal thing in data declaration:
Q_in: Queue , Q_out: Queue

translating meaning of Queue
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
done with ifElseFunctional
Expression of type Identifier:
Queue
 
Expression of type Identifier:
data
 
Expression of type Identifier:
Packet
 
Expression of type Identifier:
ℝ
 
Expression of type ABinaryExp:
(Packet × ℝ)
 
Expression of type IndexExp:
(Packet × ℝ)[]
 
Expression of type VarDecl:
data: (Packet × ℝ)[]
 
Expression of type Identifier:
Queue
 
Expression of type Identifier:
this
 
Expression of type Identifier:
data
 
Expression of type FieldExp:
this.data
 
Expression of type ArrayExp:
[]
 
Expression of type Identifier:
Packet
 
Expression of type Identifier:
ℝ
 
Expression of type ABinaryExp:
(Packet × ℝ)
 
Expression of type IndexExp:
(Packet × ℝ)[]
 
Expression of type TypeAnnotationExp:
([]: (Packet × ℝ)[])
 
Expression of type ABinaryExp:
this.data = ([]: (Packet × ℝ)[])
 
Expression of type Identifier:
this
 
Expression of type ReturnExp:
return this
 
Expression of type FunctionDef:
def Queue'(){
    this.data = ([]: (Packet × ℝ)[]);
    return this;
}
 
Expression of type Identifier:
pushFront
 
Expression of type Identifier:
x
 
Expression of type Parameter:
x: Packet × ℝ
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
data
 
Expression of type FieldExp:
this'.data
 
Expression of type Identifier:
x
 
Expression of type ArrayExp:
[x]
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
data
 
Expression of type FieldExp:
this'.data
 
Expression of type ABinaryExp:
[x] ~ this'.data
 
Expression of type ABinaryExp:
this'.data = [x] ~ this'.data
 
Expression of type TupleExp:
()
 
Expression of type ReturnExp:
return ()
 
Expression of type FunctionDef:
def pushFront(x: Packet × ℝ){
    this'.data = [x] ~ this'.data;
    return ();
}
 
Expression of type Identifier:
pushBack
 
Expression of type Identifier:
x
 
Expression of type Parameter:
x: Packet × ℝ
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
data
 
Expression of type FieldExp:
this'.data
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
data
 
Expression of type FieldExp:
this'.data
 
Expression of type Identifier:
x
 
Expression of type ArrayExp:
[x]
 
Expression of type ABinaryExp:
this'.data ~ [x]
 
Expression of type ABinaryExp:
this'.data = this'.data ~ [x]
 
Expression of type TupleExp:
()
 
Expression of type ReturnExp:
return ()
 
Expression of type FunctionDef:
def pushBack(x: Packet × ℝ){
    this'.data = this'.data ~ [x];
    return ();
}
 
Expression of type Identifier:
takeFront
 
Expression of type Identifier:
r
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
front
 
Expression of type FieldExp:
this'.front
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.front()
 
Expression of type ABinaryExp:
r := this'.front()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
popFront
 
Expression of type FieldExp:
this'.popFront
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.popFront()
 
Expression of type Identifier:
r
 
Expression of type ReturnExp:
return r
 
Expression of type FunctionDef:
def takeFront(){
    r := this'.front();
    this'.popFront();
    return r;
}
 
Expression of type Identifier:
takeBack
 
Expression of type Identifier:
r
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
data
 
Expression of type FieldExp:
this'.data
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.size()
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
this'.size() - 1
 
Expression of type IndexExp:
this'.data[this'.size() - 1]
 
Expression of type ABinaryExp:
r := this'.data[this'.size() - 1]
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
data
 
Expression of type FieldExp:
this'.data
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
data
 
Expression of type FieldExp:
this'.data
 
Expression of type LiteralExp:
0
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.size()
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
this'.size() - 1
 
Expression of type SliceExp:
this'.data[0..this'.size() - 1]
 
Expression of type ABinaryExp:
this'.data = this'.data[0..this'.size() - 1]
 
Expression of type Identifier:
r
 
Expression of type ReturnExp:
return r
 
Expression of type FunctionDef:
def takeBack(){
    r := this'.data[this'.size() - 1];
    this'.data = this'.data[0..this'.size() - 1];
    return r;
}
 
Expression of type Identifier:
size
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
data
 
Expression of type FieldExp:
this'.data
 
Expression of type Identifier:
length
 
Expression of type FieldExp:
this'.data.length
 
Expression of type ReturnExp:
return this'.data.length
 
Expression of type FunctionDef:
def size(){
    return this'.data.length;
}
 
Expression of type Identifier:
front
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
data
 
Expression of type FieldExp:
this'.data
 
Expression of type LiteralExp:
0
 
Expression of type IndexExp:
this'.data[0]
 
Expression of type ReturnExp:
return this'.data[0]
 
Expression of type FunctionDef:
def front(){
    return this'.data[0];
}
 
Expression of type Identifier:
dupFront
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
pushFront
 
Expression of type FieldExp:
this'.pushFront
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
front
 
Expression of type FieldExp:
this'.front
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
(this'.front())
 
Expression of type CallExp:
this'.pushFront(this'.front())
 
Expression of type TupleExp:
()
 
Expression of type ReturnExp:
return ()
 
Expression of type FunctionDef:
def dupFront(){
    this'.pushFront(this'.front());
    return ();
}
 
Expression of type Identifier:
popFront
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
data
 
Expression of type FieldExp:
this'.data
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
data
 
Expression of type FieldExp:
this'.data
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
size
 
Expression of type FieldExp:
this'.size
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.size()
 
Expression of type SliceExp:
this'.data[1..this'.size()]
 
Expression of type ABinaryExp:
this'.data = this'.data[1..this'.size()]
 
Expression of type TupleExp:
()
 
Expression of type ReturnExp:
return ()
 
Expression of type FunctionDef:
def popFront(){
    this'.data = this'.data[1..this'.size()];
    return ();
}
 
Expression of type CompoundDecl:
{
    data: (Packet × ℝ)[];
    def Queue'(){
        this.data = ([]: (Packet × ℝ)[]);
        return this;
    }
    def pushFront(x: Packet × ℝ){
        this'.data = [x] ~ this'.data;
        return ();
    }
    def pushBack(x: Packet × ℝ){
        this'.data = this'.data ~ [x];
        return ();
    }
    def takeFront(){
        r := this'.front();
        this'.popFront();
        return r;
    }
    def takeBack(){
        r := this'.data[this'.size() - 1];
        this'.data = this'.data[0..this'.size() - 1];
        return r;
    }
    def size(){
        return this'.data.length;
    }
    def front(){
        return this'.data[0];
    }
    def dupFront(){
        this'.pushFront(this'.front());
        return ();
    }
    def popFront(){
        this'.data = this'.data[1..this'.size()];
        return ();
    }
}
 
Expression of type DatDecl:
dat Queue{
    data: (Packet × ℝ)[];
    def Queue'(){
        this.data = ([]: (Packet × ℝ)[]);
        return this;
    }
    def pushFront(x: Packet × ℝ){
        this'.data = [x] ~ this'.data;
        return ();
    }
    def pushBack(x: Packet × ℝ){
        this'.data = this'.data ~ [x];
        return ();
    }
    def takeFront(){
        r := this'.front();
        this'.popFront();
        return r;
    }
    def takeBack(){
        r := this'.data[this'.size() - 1];
        this'.data = this'.data[0..this'.size() - 1];
        return r;
    }
    def size(){
        return this'.data.length;
    }
    def front(){
        return this'.data[0];
    }
    def dupFront(){
        this'.pushFront(this'.front());
        return ();
    }
    def popFront(){
        this'.data = this'.data[1..this'.size()];
        return ();
    }
}
 
done with forToWhile
whileToRec normalization...
done with whileToRec
done with tuplesNormalizer
done with unreachableNormalizer
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
def outside of main:(normalized)
dat Queue{
    data: (Packet × ℝ)[];
    def Queue'(){
        this.data = ([]: (Packet × ℝ)[]);
        return this;
    }
    def pushFront(x_0: Packet × ℝ){
        subExp_1 := [x_0];
        subExp_2 := this.data;
        this.data = subExp_1 ~ subExp_2;
        subExp_3 := ();
        return subExp_3;
    }
    def pushBack(x_0: Packet × ℝ){
        subExp_4 := this.data;
        subExp_5 := [x_0];
        this.data = subExp_4 ~ subExp_5;
        subExp_6 := ();
        return subExp_6;
    }
    def takeFront(){
        r_0 := this.front();
        this.popFront();
        return r_0;
    }
    def takeBack(){
        subExp_7 := this.data;
        subExp_9 := this.size();
        subExpArr_8 := subExp_9 - 1;
        r_0 := subExp_7[subExpArr_8];
        subExp_10 := this.data;
        subExp_12 := this.size();
        subExp_11 := subExp_12 - 1;
        this.data = subExp_10[0..subExp_11];
        return r_0;
    }
    def size(){
        subExp_13 := this.data.length;
        return subExp_13;
    }
    def front(){
        subExp_15 := this.data;
        subExp_14 := subExp_15[0];
        return subExp_14;
    }
    def dupFront(){
        subExp_16 := (this.front());
        this.pushFront(subExp_16);
        subExp_17 := ();
        return subExp_17;
    }
    def popFront(){
        subExp_18 := this.data;
        subExp_19 := this.size();
        this.data = subExp_18[1..subExp_19];
        subExp_20 := ();
        return subExp_20;
    }
}
var Queue = function(){
    var this_v0 = {};
    var this_v1 = _.assign({},this_v0,{data: []});
    return {res:this_v1,obj:this_v1};
}
var Queue_pushFront = function(this_v0, x_0){
    var subExp_1=[x_0];
    var subExp_2=this_v0.data;
    var this_v1 = _.assign({},this_v0,{data: [].concat(subExp_1,subExp_2)});
    var subExp_3=[];
    return {res:subExp_3,obj:this_v1};
}
var Queue_pushBack = function(this_v0, x_0){
    var subExp_4=this_v0.data;
    var subExp_5=[x_0];
    var this_v1 = _.assign({},this_v0,{data: [].concat(subExp_4,subExp_5)});
    var subExp_6=[];
    return {res:subExp_6,obj:this_v1};
}
var Queue_takeFront = function(this_v0){
    var tmp = Queue_front(this_v0,[]);
    var r_0 = tmp.res;
    var this_v1 = tmp.obj;
    var this_v2 = Queue_popFront(this_v1,[]).obj;
    return {res:r_0,obj:this_v2};
}
var Queue_takeBack = function(this_v0){
    var subExp_7=this_v0.data;
    var tmp = Queue_size(this_v0,[]);
    var subExp_9 = tmp.res;
    var this_v1 = tmp.obj;
    var subExpArr_8=subExp_9-1;
    var r_0=subExp_7[+subExpArr_8];
    var subExp_10=this_v1.data;
    var tmp = Queue_size(this_v1,[]);
    var subExp_12 = tmp.res;
    var this_v2 = tmp.obj;
    var subExp_11=subExp_12-1;
    var this_v3 = _.assign({},this_v2,{data: ([].concat(subExp_10)).slice(0,subExp_11)});
    return {res:r_0,obj:this_v3};
}
var Queue_size = function(this_v0){
    var subExp_13=this_v0.data.length;
    return {res:subExp_13,obj:this_v0};
}
var Queue_front = function(this_v0){
    var subExp_15=this_v0.data;
    var subExp_14=subExp_15[+0];
    return {res:subExp_14,obj:this_v0};
}
var Queue_dupFront = function(this_v0){
    var tmp = Queue_front(this_v0,[]);
    var subExp_16 = tmp.res;
    var this_v1 = tmp.obj;
    var this_v2 = Queue_pushFront(this_v1,subExp_16).obj;
    var subExp_17=[];
    return {res:subExp_17,obj:this_v2};
}
var Queue_popFront = function(this_v0){
    var subExp_18=this_v0.data;
    var tmp = Queue_size(this_v0,[]);
    var subExp_19 = tmp.res;
    var this_v1 = tmp.obj;
    var this_v2 = _.assign({},this_v1,{data: ([].concat(subExp_18)).slice(1,subExp_19)});
    var subExp_20=[];
    return {res:subExp_20,obj:this_v2};
}

var Queue = function(){
    var this_v0 = {};
    var this_v1 = _.assign({},this_v0,{data: []});
    return {res:this_v1,obj:this_v1};
}
var Queue_pushFront = function(this_v0, x_0){
    var subExp_1=[x_0];
    var subExp_2=this_v0.data;
    var this_v1 = _.assign({},this_v0,{data: [].concat(subExp_1,subExp_2)});
    var subExp_3=[];
    return {res:subExp_3,obj:this_v1};
}
var Queue_pushBack = function(this_v0, x_0){
    var subExp_4=this_v0.data;
    var subExp_5=[x_0];
    var this_v1 = _.assign({},this_v0,{data: [].concat(subExp_4,subExp_5)});
    var subExp_6=[];
    return {res:subExp_6,obj:this_v1};
}
var Queue_takeFront = function(this_v0){
    var tmp = Queue_front(this_v0,[]);
    var r_0 = tmp.res;
    var this_v1 = tmp.obj;
    var this_v2 = Queue_popFront(this_v1,[]).obj;
    return {res:r_0,obj:this_v2};
}
var Queue_takeBack = function(this_v0){
    var subExp_7=this_v0.data;
    var tmp = Queue_size(this_v0,[]);
    var subExp_9 = tmp.res;
    var this_v1 = tmp.obj;
    var subExpArr_8=subExp_9-1;
    var r_0=subExp_7[+subExpArr_8];
    var subExp_10=this_v1.data;
    var tmp = Queue_size(this_v1,[]);
    var subExp_12 = tmp.res;
    var this_v2 = tmp.obj;
    var subExp_11=subExp_12-1;
    var this_v3 = _.assign({},this_v2,{data: ([].concat(subExp_10)).slice(0,subExp_11)});
    return {res:r_0,obj:this_v3};
}
var Queue_size = function(this_v0){
    var subExp_13=this_v0.data.length;
    return {res:subExp_13,obj:this_v0};
}
var Queue_front = function(this_v0){
    var subExp_15=this_v0.data;
    var subExp_14=subExp_15[+0];
    return {res:subExp_14,obj:this_v0};
}
var Queue_dupFront = function(this_v0){
    var tmp = Queue_front(this_v0,[]);
    var subExp_16 = tmp.res;
    var this_v1 = tmp.obj;
    var this_v2 = Queue_pushFront(this_v1,subExp_16).obj;
    var subExp_17=[];
    return {res:subExp_17,obj:this_v2};
}
var Queue_popFront = function(this_v0){
    var subExp_18=this_v0.data;
    var tmp = Queue_size(this_v0,[]);
    var subExp_19 = tmp.res;
    var this_v1 = tmp.obj;
    var this_v2 = _.assign({},this_v1,{data: ([].concat(subExp_18)).slice(1,subExp_19)});
    var subExp_20=[];
    return {res:subExp_20,obj:this_v2};
}
var __h0_ty = function(){
    var this_v0 = {};
    var subExp_CallExp_1_v0 = Queue([]).obj;
    var this_v1 = _.assign({},this_v0,{Q_in: subExp_CallExp_1_v0});
    var subExp_CallExp_2_v0 = Queue([]).obj;
    var this_v2 = _.assign({},this_v1,{Q_out: subExp_CallExp_2_v0});
    return {res:this_v2,obj:this_v2};
}
var __h0_ty___run = function(this_v0){
    var tmp = Queue_takeFront(this_v0.Q_in,[]);
    var subExp_5 = tmp.res;
    var this_v1 = _.assign({},this_v0,{Q_in: tmp.obj});
    var subExp_arg_3=subExp_5[+0];
    var subExp_arg_4=1;
    var this_v2 = _.assign({},this_v1,{Q_out: Queue_pushBack(this_v1.Q_out,[subExp_arg_3,subExp_arg_4]).obj});
    var subExp_6=[];
    return {res:subExp_6,obj:this_v2};
}

translating meaning of __h1_ty
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
done with ifElseFunctional
Expression of type Identifier:
__h1_ty
 
Expression of type Identifier:
Q_in
 
Expression of type Identifier:
Queue
 
Expression of type VarDecl:
Q_in: Queue
 
Expression of type Identifier:
Q_out
 
Expression of type Identifier:
Queue
 
Expression of type VarDecl:
Q_out: Queue
 
Expression of type ABinaryExp:
Q_in: Queue , Q_out: Queue
 
Expression of type Identifier:
arrived
 
Expression of type Identifier:
ℝ
 
Expression of type VarDecl:
arrived: ℝ
 
Expression of type Identifier:
__h1_ty
 
Expression of type Identifier:
this
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this.Q_in
 
Expression of type Identifier:
Queue'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
Queue'()
 
Expression of type ABinaryExp:
this.Q_in = Queue'()
 
Expression of type Identifier:
this
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this.Q_out
 
Expression of type Identifier:
Queue'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
Queue'()
 
Expression of type ABinaryExp:
this.Q_out = Queue'()
 
Expression of type Identifier:
this
 
Expression of type Identifier:
arrived
 
Expression of type FieldExp:
this.arrived
 
Expression of type LiteralExp:
0
 
Expression of type ABinaryExp:
this.arrived = 0
 
Expression of type Identifier:
this
 
Expression of type ReturnExp:
return this
 
Expression of type FunctionDef:
def __h1_ty'(){
    this.Q_in = Queue'();
    this.Q_out = Queue'();
    this.arrived = 0;
    return this;
}
 
Expression of type Identifier:
__run
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
arrived
 
Expression of type FieldExp:
this'.arrived
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
this'.arrived = 1
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.Q_in
 
Expression of type Identifier:
popFront
 
Expression of type FieldExp:
this'.Q_in.popFront
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.Q_in.popFront()
 
Expression of type TupleExp:
()
 
Expression of type ReturnExp:
return ()
 
Expression of type FunctionDef:
def __run(){
    this'.arrived = 1;
    this'.Q_in.popFront();
    return ();
}
 
Expression of type CompoundDecl:
{
    Q_in: Queue , Q_out: Queue;
    arrived: ℝ;
    def __h1_ty'(){
        this.Q_in = Queue'();
        this.Q_out = Queue'();
        this.arrived = 0;
        return this;
    }
    def __run(){
        this'.arrived = 1;
        this'.Q_in.popFront();
        return ();
    }
}
 
Expression of type DatDecl:
dat __h1_ty{
    Q_in: Queue , Q_out: Queue;
    arrived: ℝ;
    def __h1_ty'(){
        this.Q_in = Queue'();
        this.Q_out = Queue'();
        this.arrived = 0;
        return this;
    }
    def __run(){
        this'.arrived = 1;
        this'.Q_in.popFront();
        return ();
    }
}
 
done with forToWhile
whileToRec normalization...
done with whileToRec
done with tuplesNormalizer
done with unreachableNormalizer
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
def outside of main:(normalized)
dat __h1_ty{
    Q_in: Queue , Q_out: Queue;
    arrived: ℝ;
    def __h1_ty'(){
        subExp_CallExp_1 := Queue();
        this.Q_in = subExp_CallExp_1;
        subExp_CallExp_2 := Queue();
        this.Q_out = subExp_CallExp_2;
        this.arrived = 0;
        return this;
    }
    def __run(){
        this.arrived = 1;
        this.Q_in.popFront();
        subExp_3 := ();
        return subExp_3;
    }
}
illegal thing in data declaration:
Q_in: Queue , Q_out: Queue

var __h1_ty = function(){
    var this_v0 = {};
    var subExp_CallExp_1_v0 = Queue([]).obj;
    var this_v1 = _.assign({},this_v0,{Q_in: subExp_CallExp_1_v0});
    var subExp_CallExp_2_v0 = Queue([]).obj;
    var this_v2 = _.assign({},this_v1,{Q_out: subExp_CallExp_2_v0});
    var this_v3 = _.assign({},this_v2,{arrived: 0});
    return {res:this_v3,obj:this_v3};
}
var __h1_ty___run = function(this_v0){
    var this_v1 = _.assign({},this_v0,{arrived: 1});
    var this_v2 = _.assign({},this_v1,{Q_in: Queue_popFront(this_v1.Q_in,[]).obj});
    var subExp_3=[];
    return {res:subExp_3,obj:this_v2};
}

translating meaning of __s0_ty
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
done with ifElseFunctional
Expression of type Identifier:
__s0_ty
 
Expression of type Identifier:
Q_in
 
Expression of type Identifier:
Queue
 
Expression of type VarDecl:
Q_in: Queue
 
Expression of type Identifier:
Q_out
 
Expression of type Identifier:
Queue
 
Expression of type VarDecl:
Q_out: Queue
 
Expression of type ABinaryExp:
Q_in: Queue , Q_out: Queue
 
Expression of type Identifier:
__s0_ty
 
Expression of type Identifier:
this
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this.Q_in
 
Expression of type Identifier:
Queue'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
Queue'()
 
Expression of type ABinaryExp:
this.Q_in = Queue'()
 
Expression of type Identifier:
this
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this.Q_out
 
Expression of type Identifier:
Queue'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
Queue'()
 
Expression of type ABinaryExp:
this.Q_out = Queue'()
 
Expression of type Identifier:
this
 
Expression of type ReturnExp:
return this
 
Expression of type FunctionDef:
def __s0_ty'(){
    this.Q_in = Queue'();
    this.Q_out = Queue'();
    return this;
}
 
Expression of type Identifier:
__run
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.Q_out
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.Q_out.pushBack
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.Q_in
 
Expression of type Identifier:
takeFront
 
Expression of type FieldExp:
this'.Q_in.takeFront
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.Q_in.takeFront()
 
Expression of type LiteralExp:
0
 
Expression of type IndexExp:
this'.Q_in.takeFront()[0]
 
Expression of type LiteralExp:
2
 
Expression of type TupleExp:
((this'.Q_in.takeFront()[0],2))
 
Expression of type CallExp:
this'.Q_out.pushBack((this'.Q_in.takeFront()[0],2))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.Q_out.pushBack((this'.Q_in.takeFront()[0],2));
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.Q_out
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.Q_out.pushBack
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.Q_in
 
Expression of type Identifier:
takeFront
 
Expression of type FieldExp:
this'.Q_in.takeFront
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.Q_in.takeFront()
 
Expression of type LiteralExp:
0
 
Expression of type IndexExp:
this'.Q_in.takeFront()[0]
 
Expression of type LiteralExp:
3
 
Expression of type TupleExp:
((this'.Q_in.takeFront()[0],3))
 
Expression of type CallExp:
this'.Q_out.pushBack((this'.Q_in.takeFront()[0],3))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    this'.Q_out.pushBack((this'.Q_in.takeFront()[0],3));
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
flip
 
Expression of type LiteralExp:
1
 
Expression of type LiteralExp:
2
 
Expression of type ABinaryExp:
((1 / 2))
 
Expression of type CallExp:
flip((1 / 2))
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if flip((1 / 2)) {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if flip((1 / 2)) {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type TupleExp:
()
 
Expression of type ReturnExp:
return ()
 
Expression of type FunctionDef:
def __run(){
    def _if(){
        this'.Q_out.pushBack((this'.Q_in.takeFront()[0],2));
        return (1,this',0);
    }
    def _else(){
        this'.Q_out.pushBack((this'.Q_in.takeFront()[0],3));
        return (1,this',0);
    }
    def eval_if(){
        if flip((1 / 2)) {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    return ();
}
 
Expression of type CompoundDecl:
{
    Q_in: Queue , Q_out: Queue;
    def __s0_ty'(){
        this.Q_in = Queue'();
        this.Q_out = Queue'();
        return this;
    }
    def __run(){
        def _if(){
            this'.Q_out.pushBack((this'.Q_in.takeFront()[0],2));
            return (1,this',0);
        }
        def _else(){
            this'.Q_out.pushBack((this'.Q_in.takeFront()[0],3));
            return (1,this',0);
        }
        def eval_if(){
            if flip((1 / 2)) {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        return ();
    }
}
 
Expression of type DatDecl:
dat __s0_ty{
    Q_in: Queue , Q_out: Queue;
    def __s0_ty'(){
        this.Q_in = Queue'();
        this.Q_out = Queue'();
        return this;
    }
    def __run(){
        def _if(){
            this'.Q_out.pushBack((this'.Q_in.takeFront()[0],2));
            return (1,this',0);
        }
        def _else(){
            this'.Q_out.pushBack((this'.Q_in.takeFront()[0],3));
            return (1,this',0);
        }
        def eval_if(){
            if flip((1 / 2)) {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        return ();
    }
}
 
done with forToWhile
whileToRec normalization...
done with whileToRec
done with tuplesNormalizer
done with unreachableNormalizer
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
def outside of main:(normalized)
dat __s0_ty{
    Q_in: Queue , Q_out: Queue;
    def __s0_ty'(){
        subExp_CallExp_1 := Queue();
        this.Q_in = subExp_CallExp_1;
        subExp_CallExp_2 := Queue();
        this.Q_out = subExp_CallExp_2;
        return this;
    }
    def __run(){
        def _if_0(){
            subExp_5 := this.Q_in.takeFront();
            subExp_arg_3 := subExp_5[0];
            subExp_arg_4 := 2;
            this.Q_out.pushBack(subExp_arg_3,subExp_arg_4);
            subExp_6 := (1,this,0);
            return subExp_6;
        }
        def _else_0(){
            subExp_9 := this.Q_in.takeFront();
            subExp_arg_7 := subExp_9[0];
            subExp_arg_8 := 3;
            this.Q_out.pushBack(subExp_arg_7,subExp_arg_8);
            subExp_10 := (1,this,0);
            return subExp_10;
        }
        def eval_if_0(){
            subExp_14 := ((1 / 2));
            subExp_11 := flip(subExp_14);
            if subExp_11 {
                subExp_12 := _if_0();
                return subExp_12;
            } else {
                subExp_13 := _else_0();
                return subExp_13;
            }
        }
        _ret_0 := eval_if_0();
        this = _ret_0[1];
        subExp_15 := ();
        return subExp_15;
    }
}
illegal thing in data declaration:
Q_in: Queue , Q_out: Queue

var __s0_ty = function(){
    var this_v0 = {};
    var subExp_CallExp_1_v0 = Queue([]).obj;
    var this_v1 = _.assign({},this_v0,{Q_in: subExp_CallExp_1_v0});
    var subExp_CallExp_2_v0 = Queue([]).obj;
    var this_v2 = _.assign({},this_v1,{Q_out: subExp_CallExp_2_v0});
    return {res:this_v2,obj:this_v2};
}
var __s0_ty___run = function(this_v0){
    var _if_0 = function(){
        var tmp = Queue_takeFront(this_v0.Q_in,[]);
        var subExp_5 = tmp.res;
        var this_v1 = _.assign({},this_v0,{Q_in: tmp.obj});
        var subExp_arg_3=subExp_5[+0];
        var subExp_arg_4=2;
        var this_v2 = _.assign({},this_v1,{Q_out: Queue_pushBack(this_v1.Q_out,[subExp_arg_3,subExp_arg_4]).obj});
        var subExp_6=[1,this_v2,0];
        return subExp_6;
    }
    var _else_0 = function(){
        var tmp = Queue_takeFront(this_v0.Q_in,[]);
        var subExp_9 = tmp.res;
        var this_v1 = _.assign({},this_v0,{Q_in: tmp.obj});
        var subExp_arg_7=subExp_9[+0];
        var subExp_arg_8=3;
        var this_v2 = _.assign({},this_v1,{Q_out: Queue_pushBack(this_v1.Q_out,[subExp_arg_7,subExp_arg_8]).obj});
        var subExp_10=[1,this_v2,0];
        return subExp_10;
    }
    var eval_if_0 = function(){
        var subExp_14=((1/2));
        var subExp_11=sample(Bernoulli({p:subExp_14}));
        if(subExp_11){
            var subExp_12=_if_0([]);
            return subExp_12;
        }
        else{
            var subExp_13=_else_0([]);
            return subExp_13;
        }
    }
    var _ret_0=eval_if_0([]);
    var this_v0=_ret_0[+1];
    var subExp_15=[];
    return {res:subExp_15,obj:this_v0};
}

translating meaning of __s1_ty
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
done with ifElseFunctional
Expression of type Identifier:
__s1_ty
 
Expression of type Identifier:
Q_in
 
Expression of type Identifier:
Queue
 
Expression of type VarDecl:
Q_in: Queue
 
Expression of type Identifier:
Q_out
 
Expression of type Identifier:
Queue
 
Expression of type VarDecl:
Q_out: Queue
 
Expression of type ABinaryExp:
Q_in: Queue , Q_out: Queue
 
Expression of type Identifier:
__s1_ty
 
Expression of type Identifier:
this
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this.Q_in
 
Expression of type Identifier:
Queue'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
Queue'()
 
Expression of type ABinaryExp:
this.Q_in = Queue'()
 
Expression of type Identifier:
this
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this.Q_out
 
Expression of type Identifier:
Queue'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
Queue'()
 
Expression of type ABinaryExp:
this.Q_out = Queue'()
 
Expression of type Identifier:
this
 
Expression of type ReturnExp:
return this
 
Expression of type FunctionDef:
def __s1_ty'(){
    this.Q_in = Queue'();
    this.Q_out = Queue'();
    return this;
}
 
Expression of type Identifier:
__run
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.Q_out
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.Q_out.pushBack
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.Q_in
 
Expression of type Identifier:
takeFront
 
Expression of type FieldExp:
this'.Q_in.takeFront
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.Q_in.takeFront()
 
Expression of type LiteralExp:
0
 
Expression of type IndexExp:
this'.Q_in.takeFront()[0]
 
Expression of type LiteralExp:
2
 
Expression of type TupleExp:
((this'.Q_in.takeFront()[0],2))
 
Expression of type CallExp:
this'.Q_out.pushBack((this'.Q_in.takeFront()[0],2))
 
Expression of type TupleExp:
()
 
Expression of type ReturnExp:
return ()
 
Expression of type FunctionDef:
def __run(){
    this'.Q_out.pushBack((this'.Q_in.takeFront()[0],2));
    return ();
}
 
Expression of type CompoundDecl:
{
    Q_in: Queue , Q_out: Queue;
    def __s1_ty'(){
        this.Q_in = Queue'();
        this.Q_out = Queue'();
        return this;
    }
    def __run(){
        this'.Q_out.pushBack((this'.Q_in.takeFront()[0],2));
        return ();
    }
}
 
Expression of type DatDecl:
dat __s1_ty{
    Q_in: Queue , Q_out: Queue;
    def __s1_ty'(){
        this.Q_in = Queue'();
        this.Q_out = Queue'();
        return this;
    }
    def __run(){
        this'.Q_out.pushBack((this'.Q_in.takeFront()[0],2));
        return ();
    }
}
 
done with forToWhile
whileToRec normalization...
done with whileToRec
done with tuplesNormalizer
done with unreachableNormalizer
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
def outside of main:(normalized)
dat __s1_ty{
    Q_in: Queue , Q_out: Queue;
    def __s1_ty'(){
        subExp_CallExp_1 := Queue();
        this.Q_in = subExp_CallExp_1;
        subExp_CallExp_2 := Queue();
        this.Q_out = subExp_CallExp_2;
        return this;
    }
    def __run(){
        subExp_5 := this.Q_in.takeFront();
        subExp_arg_3 := subExp_5[0];
        subExp_arg_4 := 2;
        this.Q_out.pushBack(subExp_arg_3,subExp_arg_4);
        subExp_6 := ();
        return subExp_6;
    }
}
illegal thing in data declaration:
Q_in: Queue , Q_out: Queue

var __s1_ty = function(){
    var this_v0 = {};
    var subExp_CallExp_1_v0 = Queue([]).obj;
    var this_v1 = _.assign({},this_v0,{Q_in: subExp_CallExp_1_v0});
    var subExp_CallExp_2_v0 = Queue([]).obj;
    var this_v2 = _.assign({},this_v1,{Q_out: subExp_CallExp_2_v0});
    return {res:this_v2,obj:this_v2};
}
var __s1_ty___run = function(this_v0){
    var tmp = Queue_takeFront(this_v0.Q_in,[]);
    var subExp_5 = tmp.res;
    var this_v1 = _.assign({},this_v0,{Q_in: tmp.obj});
    var subExp_arg_3=subExp_5[+0];
    var subExp_arg_4=2;
    var this_v2 = _.assign({},this_v1,{Q_out: Queue_pushBack(this_v1.Q_out,[subExp_arg_3,subExp_arg_4]).obj});
    var subExp_6=[];
    return {res:subExp_6,obj:this_v2};
}

translating meaning of __s2_ty
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
TODO: VarsGetter encountered '=' but left side is no Identifier/IndexExp.
done with ifElseFunctional
Expression of type Identifier:
__s2_ty
 
Expression of type Identifier:
Q_in
 
Expression of type Identifier:
Queue
 
Expression of type VarDecl:
Q_in: Queue
 
Expression of type Identifier:
Q_out
 
Expression of type Identifier:
Queue
 
Expression of type VarDecl:
Q_out: Queue
 
Expression of type ABinaryExp:
Q_in: Queue , Q_out: Queue
 
Expression of type Identifier:
failing
 
Expression of type Identifier:
ℝ
 
Expression of type VarDecl:
failing: ℝ
 
Expression of type Identifier:
__s2_ty
 
Expression of type Identifier:
this
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this.Q_in
 
Expression of type Identifier:
Queue'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
Queue'()
 
Expression of type ABinaryExp:
this.Q_in = Queue'()
 
Expression of type Identifier:
this
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this.Q_out
 
Expression of type Identifier:
Queue'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
Queue'()
 
Expression of type ABinaryExp:
this.Q_out = Queue'()
 
Expression of type Identifier:
this
 
Expression of type Identifier:
failing
 
Expression of type FieldExp:
this.failing
 
Expression of type LiteralExp:
2
 
Expression of type ABinaryExp:
this.failing = 2
 
Expression of type Identifier:
this
 
Expression of type ReturnExp:
return this
 
Expression of type FunctionDef:
def __s2_ty'(){
    this.Q_in = Queue'();
    this.Q_out = Queue'();
    this.failing = 2;
    return this;
}
 
Expression of type Identifier:
__run
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
failing
 
Expression of type FieldExp:
this'.failing
 
Expression of type Identifier:
flip
 
Expression of type LiteralExp:
1
 
Expression of type LiteralExp:
1000
 
Expression of type ABinaryExp:
((1 / 1000))
 
Expression of type CallExp:
flip((1 / 1000))
 
Expression of type ABinaryExp:
this'.failing = flip((1 / 1000))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.failing = flip((1 / 1000));
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
failing
 
Expression of type FieldExp:
this'.failing
 
Expression of type LiteralExp:
2
 
Expression of type ABinaryExp:
(this'.failing == 2)
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if (this'.failing == 2) {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if (this'.failing == 2) {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type Identifier:
_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.Q_in
 
Expression of type Identifier:
popFront
 
Expression of type FieldExp:
this'.Q_in.popFront
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.Q_in.popFront()
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _if(){
    this'.Q_in.popFront();
    return (1,this',0);
}
 
Expression of type Identifier:
_else
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.Q_out
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.Q_out.pushBack
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.Q_in
 
Expression of type Identifier:
takeFront
 
Expression of type FieldExp:
this'.Q_in.takeFront
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.Q_in.takeFront()
 
Expression of type LiteralExp:
0
 
Expression of type IndexExp:
this'.Q_in.takeFront()[0]
 
Expression of type LiteralExp:
2
 
Expression of type TupleExp:
((this'.Q_in.takeFront()[0],2))
 
Expression of type CallExp:
this'.Q_out.pushBack((this'.Q_in.takeFront()[0],2))
 
Expression of type LiteralExp:
1
 
Expression of type Identifier:
this'
 
Expression of type LiteralExp:
0
 
Expression of type TupleExp:
(1,this',0)
 
Expression of type ReturnExp:
return (1,this',0)
 
Expression of type FunctionDef:
def _else(){
    this'.Q_out.pushBack((this'.Q_in.takeFront()[0],2));
    return (1,this',0);
}
 
Expression of type Identifier:
eval_if
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
failing
 
Expression of type FieldExp:
this'.failing
 
Expression of type LiteralExp:
1
 
Expression of type ABinaryExp:
(this'.failing == 1)
 
Expression of type Identifier:
_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_if()
 
Expression of type ReturnExp:
return _if()
 
Expression of type Identifier:
_else
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
_else()
 
Expression of type ReturnExp:
return _else()
 
Expression of type IteExp:
if (this'.failing == 1) {
    return _if();
} else {
    return _else();
}
 
Expression of type FunctionDef:
def eval_if(){
    if (this'.failing == 1) {
        return _if();
    } else {
        return _else();
    }
}
 
Expression of type Identifier:
_ret
 
Expression of type Identifier:
eval_if
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
eval_if()
 
Expression of type ABinaryExp:
_ret := eval_if()
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
_ret
 
Expression of type LiteralExp:
1
 
Expression of type IndexExp:
_ret[1]
 
Expression of type ABinaryExp:
this' = _ret[1]
 
Expression of type TupleExp:
()
 
Expression of type ReturnExp:
return ()
 
Expression of type FunctionDef:
def __run(){
    def _if(){
        this'.failing = flip((1 / 1000));
        return (1,this',0);
    }
    def _else(){
        return (1,this',0);
    }
    def eval_if(){
        if (this'.failing == 2) {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    def _if(){
        this'.Q_in.popFront();
        return (1,this',0);
    }
    def _else(){
        this'.Q_out.pushBack((this'.Q_in.takeFront()[0],2));
        return (1,this',0);
    }
    def eval_if(){
        if (this'.failing == 1) {
            return _if();
        } else {
            return _else();
        }
    }
    _ret := eval_if();
    this' = _ret[1];
    return ();
}
 
Expression of type CompoundDecl:
{
    Q_in: Queue , Q_out: Queue;
    failing: ℝ;
    def __s2_ty'(){
        this.Q_in = Queue'();
        this.Q_out = Queue'();
        this.failing = 2;
        return this;
    }
    def __run(){
        def _if(){
            this'.failing = flip((1 / 1000));
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if (this'.failing == 2) {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            this'.Q_in.popFront();
            return (1,this',0);
        }
        def _else(){
            this'.Q_out.pushBack((this'.Q_in.takeFront()[0],2));
            return (1,this',0);
        }
        def eval_if(){
            if (this'.failing == 1) {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        return ();
    }
}
 
Expression of type DatDecl:
dat __s2_ty{
    Q_in: Queue , Q_out: Queue;
    failing: ℝ;
    def __s2_ty'(){
        this.Q_in = Queue'();
        this.Q_out = Queue'();
        this.failing = 2;
        return this;
    }
    def __run(){
        def _if(){
            this'.failing = flip((1 / 1000));
            return (1,this',0);
        }
        def _else(){
            return (1,this',0);
        }
        def eval_if(){
            if (this'.failing == 2) {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        def _if(){
            this'.Q_in.popFront();
            return (1,this',0);
        }
        def _else(){
            this'.Q_out.pushBack((this'.Q_in.takeFront()[0],2));
            return (1,this',0);
        }
        def eval_if(){
            if (this'.failing == 1) {
                return _if();
            } else {
                return _else();
            }
        }
        _ret := eval_if();
        this' = _ret[1];
        return ();
    }
}
 
done with forToWhile
whileToRec normalization...
done with whileToRec
done with tuplesNormalizer
done with unreachableNormalizer
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
def outside of main:(normalized)
dat __s2_ty{
    Q_in: Queue , Q_out: Queue;
    failing: ℝ;
    def __s2_ty'(){
        subExp_CallExp_1 := Queue();
        this.Q_in = subExp_CallExp_1;
        subExp_CallExp_2 := Queue();
        this.Q_out = subExp_CallExp_2;
        this.failing = 2;
        return this;
    }
    def __run(){
        def _if_0(){
            subExp_3 := ((1 / 1000));
            subExp_CallExp_4 := flip(subExp_3);
            this.failing = subExp_CallExp_4;
            subExp_5 := (1,this,0);
            return subExp_5;
        }
        def _else_0(){
            subExp_6 := (1,this,0);
            return subExp_6;
        }
        def eval_if_0(){
            subExp_10 := this.failing;
            subExp_7 := (subExp_10 == 2);
            if subExp_7 {
                subExp_8 := _if_0();
                return subExp_8;
            } else {
                subExp_9 := _else_0();
                return subExp_9;
            }
        }
        _ret_0 := eval_if_0();
        this = _ret_0[1];
        def _if_1(){
            this.Q_in.popFront();
            subExp_11 := (1,this,0);
            return subExp_11;
        }
        def _else_1(){
            subExp_14 := this.Q_in.takeFront();
            subExp_arg_12 := subExp_14[0];
            subExp_arg_13 := 2;
            this.Q_out.pushBack(subExp_arg_12,subExp_arg_13);
            subExp_15 := (1,this,0);
            return subExp_15;
        }
        def eval_if_1(){
            subExp_19 := this.failing;
            subExp_16 := (subExp_19 == 1);
            if subExp_16 {
                subExp_17 := _if_1();
                return subExp_17;
            } else {
                subExp_18 := _else_1();
                return subExp_18;
            }
        }
        _ret_1 := eval_if_1();
        this = _ret_1[1];
        subExp_20 := ();
        return subExp_20;
    }
}
illegal thing in data declaration:
Q_in: Queue , Q_out: Queue

var __s2_ty = function(){
    var this_v0 = {};
    var subExp_CallExp_1_v0 = Queue([]).obj;
    var this_v1 = _.assign({},this_v0,{Q_in: subExp_CallExp_1_v0});
    var subExp_CallExp_2_v0 = Queue([]).obj;
    var this_v2 = _.assign({},this_v1,{Q_out: subExp_CallExp_2_v0});
    var this_v3 = _.assign({},this_v2,{failing: 2});
    return {res:this_v3,obj:this_v3};
}
var __s2_ty___run = function(this_v0){
    var _if_0 = function(){
        var subExp_3=((1/1000));
        var subExp_CallExp_4=sample(Bernoulli({p:subExp_3}));
        var this_v1 = _.assign({},this_v0,{failing: subExp_CallExp_4});
        var subExp_5=[1,this_v1,0];
        return subExp_5;
    }
    var _else_0 = function(){
        var subExp_6=[1,this_v0,0];
        return subExp_6;
    }
    var eval_if_0 = function(){
        var subExp_10=this_v0.failing;
        var subExp_7=(subExp_10==2);
        if(subExp_7){
            var subExp_8=_if_0([]);
            return subExp_8;
        }
        else{
            var subExp_9=_else_0([]);
            return subExp_9;
        }
    }
    var _ret_0=eval_if_0([]);
    var this_v0=_ret_0[+1];
    var _if_1 = function(){
        var this_v1 = _.assign({},this_v0,{Q_in: Queue_popFront(this_v0.Q_in,[]).obj});
        var subExp_11=[1,this_v1,0];
        return subExp_11;
    }
    var _else_1 = function(){
        var tmp = Queue_takeFront(this_v0.Q_in,[]);
        var subExp_14 = tmp.res;
        var this_v1 = _.assign({},this_v0,{Q_in: tmp.obj});
        var subExp_arg_12=subExp_14[+0];
        var subExp_arg_13=2;
        var this_v2 = _.assign({},this_v1,{Q_out: Queue_pushBack(this_v1.Q_out,[subExp_arg_12,subExp_arg_13]).obj});
        var subExp_15=[1,this_v2,0];
        return subExp_15;
    }
    var eval_if_1 = function(){
        var subExp_19=this_v0.failing;
        var subExp_16=(subExp_19==1);
        if(subExp_16){
            var subExp_17=_if_1([]);
            return subExp_17;
        }
        else{
            var subExp_18=_else_1([]);
            return subExp_18;
        }
    }
    var _ret_1=eval_if_1([]);
    var this_v0=_ret_1[+1];
    var subExp_20=[];
    return {res:subExp_20,obj:this_v0};
}

translating meaning of __s3_ty
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
done with ifElseFunctional
Expression of type Identifier:
__s3_ty
 
Expression of type Identifier:
Q_in
 
Expression of type Identifier:
Queue
 
Expression of type VarDecl:
Q_in: Queue
 
Expression of type Identifier:
Q_out
 
Expression of type Identifier:
Queue
 
Expression of type VarDecl:
Q_out: Queue
 
Expression of type ABinaryExp:
Q_in: Queue , Q_out: Queue
 
Expression of type Identifier:
__s3_ty
 
Expression of type Identifier:
this
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this.Q_in
 
Expression of type Identifier:
Queue'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
Queue'()
 
Expression of type ABinaryExp:
this.Q_in = Queue'()
 
Expression of type Identifier:
this
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this.Q_out
 
Expression of type Identifier:
Queue'
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
Queue'()
 
Expression of type ABinaryExp:
this.Q_out = Queue'()
 
Expression of type Identifier:
this
 
Expression of type ReturnExp:
return this
 
Expression of type FunctionDef:
def __s3_ty'(){
    this.Q_in = Queue'();
    this.Q_out = Queue'();
    return this;
}
 
Expression of type Identifier:
__run
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
Q_out
 
Expression of type FieldExp:
this'.Q_out
 
Expression of type Identifier:
pushBack
 
Expression of type FieldExp:
this'.Q_out.pushBack
 
Expression of type Identifier:
this'
 
Expression of type Identifier:
Q_in
 
Expression of type FieldExp:
this'.Q_in
 
Expression of type Identifier:
takeFront
 
Expression of type FieldExp:
this'.Q_in.takeFront
 
Expression of type TupleExp:
()
 
Expression of type CallExp:
this'.Q_in.takeFront()
 
Expression of type LiteralExp:
0
 
Expression of type IndexExp:
this'.Q_in.takeFront()[0]
 
Expression of type LiteralExp:
3
 
Expression of type TupleExp:
((this'.Q_in.takeFront()[0],3))
 
Expression of type CallExp:
this'.Q_out.pushBack((this'.Q_in.takeFront()[0],3))
 
Expression of type TupleExp:
()
 
Expression of type ReturnExp:
return ()
 
Expression of type FunctionDef:
def __run(){
    this'.Q_out.pushBack((this'.Q_in.takeFront()[0],3));
    return ();
}
 
Expression of type CompoundDecl:
{
    Q_in: Queue , Q_out: Queue;
    def __s3_ty'(){
        this.Q_in = Queue'();
        this.Q_out = Queue'();
        return this;
    }
    def __run(){
        this'.Q_out.pushBack((this'.Q_in.takeFront()[0],3));
        return ();
    }
}
 
Expression of type DatDecl:
dat __s3_ty{
    Q_in: Queue , Q_out: Queue;
    def __s3_ty'(){
        this.Q_in = Queue'();
        this.Q_out = Queue'();
        return this;
    }
    def __run(){
        this'.Q_out.pushBack((this'.Q_in.takeFront()[0],3));
        return ();
    }
}
 
done with forToWhile
whileToRec normalization...
done with whileToRec
done with tuplesNormalizer
done with unreachableNormalizer
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
def outside of main:(normalized)
dat __s3_ty{
    Q_in: Queue , Q_out: Queue;
    def __s3_ty'(){
        subExp_CallExp_1 := Queue();
        this.Q_in = subExp_CallExp_1;
        subExp_CallExp_2 := Queue();
        this.Q_out = subExp_CallExp_2;
        return this;
    }
    def __run(){
        subExp_5 := this.Q_in.takeFront();
        subExp_arg_3 := subExp_5[0];
        subExp_arg_4 := 3;
        this.Q_out.pushBack(subExp_arg_3,subExp_arg_4);
        subExp_6 := ();
        return subExp_6;
    }
}
illegal thing in data declaration:
Q_in: Queue , Q_out: Queue

var __s3_ty = function(){
    var this_v0 = {};
    var subExp_CallExp_1_v0 = Queue([]).obj;
    var this_v1 = _.assign({},this_v0,{Q_in: subExp_CallExp_1_v0});
    var subExp_CallExp_2_v0 = Queue([]).obj;
    var this_v2 = _.assign({},this_v1,{Q_out: subExp_CallExp_2_v0});
    return {res:this_v2,obj:this_v2};
}
var __s3_ty___run = function(this_v0){
    var tmp = Queue_takeFront(this_v0.Q_in,[]);
    var subExp_5 = tmp.res;
    var this_v1 = _.assign({},this_v0,{Q_in: tmp.obj});
    var subExp_arg_3=subExp_5[+0];
    var subExp_arg_4=3;
    var this_v2 = _.assign({},this_v1,{Q_out: Queue_pushBack(this_v1.Q_out,[subExp_arg_3,subExp_arg_4]).obj});
    var subExp_6=[];
    return {res:subExp_6,obj:this_v2};
}

var __s3_ty = function(){
    var this_v0 = {};
    var subExp_CallExp_1_v0 = Queue([]).obj;
    var this_v1 = _.assign({},this_v0,{Q_in: subExp_CallExp_1_v0});
    var subExp_CallExp_2_v0 = Queue([]).obj;
    var this_v2 = _.assign({},this_v1,{Q_out: subExp_CallExp_2_v0});
    return {res:this_v2,obj:this_v2};
}
var __s3_ty___run = function(this_v0){
    var tmp = Queue_takeFront(this_v0.Q_in,[]);
    var subExp_5 = tmp.res;
    var this_v1 = _.assign({},this_v0,{Q_in: tmp.obj});
    var subExp_arg_3=subExp_5[+0];
    var subExp_arg_4=3;
    var this_v2 = _.assign({},this_v1,{Q_out: Queue_pushBack(this_v1.Q_out,[subExp_arg_3,subExp_arg_4]).obj});
    var subExp_6=[];
    return {res:subExp_6,obj:this_v2};
}
var __s2_ty = function(){
    var this_v0 = {};
    var subExp_CallExp_1_v0 = Queue([]).obj;
    var this_v1 = _.assign({},this_v0,{Q_in: subExp_CallExp_1_v0});
    var subExp_CallExp_2_v0 = Queue([]).obj;
    var this_v2 = _.assign({},this_v1,{Q_out: subExp_CallExp_2_v0});
    var this_v3 = _.assign({},this_v2,{failing: 2});
    return {res:this_v3,obj:this_v3};
}
var __s2_ty___run = function(this_v0){
    var _if_0 = function(){
        var subExp_3=((1/1000));
        var subExp_CallExp_4=sample(Bernoulli({p:subExp_3}));
        var this_v1 = _.assign({},this_v0,{failing: subExp_CallExp_4});
        var subExp_5=[1,this_v1,0];
        return subExp_5;
    }
    var _else_0 = function(){
        var subExp_6=[1,this_v0,0];
        return subExp_6;
    }
    var eval_if_0 = function(){
        var subExp_10=this_v0.failing;
        var subExp_7=(subExp_10==2);
        if(subExp_7){
            var subExp_8=_if_0([]);
            return subExp_8;
        }
        else{
            var subExp_9=_else_0([]);
            return subExp_9;
        }
    }
    var _ret_0=eval_if_0([]);
    var this_v0=_ret_0[+1];
    var _if_1 = function(){
        var this_v1 = _.assign({},this_v0,{Q_in: Queue_popFront(this_v0.Q_in,[]).obj});
        var subExp_11=[1,this_v1,0];
        return subExp_11;
    }
    var _else_1 = function(){
        var tmp = Queue_takeFront(this_v0.Q_in,[]);
        var subExp_14 = tmp.res;
        var this_v1 = _.assign({},this_v0,{Q_in: tmp.obj});
        var subExp_arg_12=subExp_14[+0];
        var subExp_arg_13=2;
        var this_v2 = _.assign({},this_v1,{Q_out: Queue_pushBack(this_v1.Q_out,[subExp_arg_12,subExp_arg_13]).obj});
        var subExp_15=[1,this_v2,0];
        return subExp_15;
    }
    var eval_if_1 = function(){
        var subExp_19=this_v0.failing;
        var subExp_16=(subExp_19==1);
        if(subExp_16){
            var subExp_17=_if_1([]);
            return subExp_17;
        }
        else{
            var subExp_18=_else_1([]);
            return subExp_18;
        }
    }
    var _ret_1=eval_if_1([]);
    var this_v0=_ret_1[+1];
    var subExp_20=[];
    return {res:subExp_20,obj:this_v0};
}
var __s1_ty = function(){
    var this_v0 = {};
    var subExp_CallExp_1_v0 = Queue([]).obj;
    var this_v1 = _.assign({},this_v0,{Q_in: subExp_CallExp_1_v0});
    var subExp_CallExp_2_v0 = Queue([]).obj;
    var this_v2 = _.assign({},this_v1,{Q_out: subExp_CallExp_2_v0});
    return {res:this_v2,obj:this_v2};
}
var __s1_ty___run = function(this_v0){
    var tmp = Queue_takeFront(this_v0.Q_in,[]);
    var subExp_5 = tmp.res;
    var this_v1 = _.assign({},this_v0,{Q_in: tmp.obj});
    var subExp_arg_3=subExp_5[+0];
    var subExp_arg_4=2;
    var this_v2 = _.assign({},this_v1,{Q_out: Queue_pushBack(this_v1.Q_out,[subExp_arg_3,subExp_arg_4]).obj});
    var subExp_6=[];
    return {res:subExp_6,obj:this_v2};
}
var __s0_ty = function(){
    var this_v0 = {};
    var subExp_CallExp_1_v0 = Queue([]).obj;
    var this_v1 = _.assign({},this_v0,{Q_in: subExp_CallExp_1_v0});
    var subExp_CallExp_2_v0 = Queue([]).obj;
    var this_v2 = _.assign({},this_v1,{Q_out: subExp_CallExp_2_v0});
    return {res:this_v2,obj:this_v2};
}
var __s0_ty___run = function(this_v0){
    var _if_0 = function(){
        var tmp = Queue_takeFront(this_v0.Q_in,[]);
        var subExp_5 = tmp.res;
        var this_v1 = _.assign({},this_v0,{Q_in: tmp.obj});
        var subExp_arg_3=subExp_5[+0];
        var subExp_arg_4=2;
        var this_v2 = _.assign({},this_v1,{Q_out: Queue_pushBack(this_v1.Q_out,[subExp_arg_3,subExp_arg_4]).obj});
        var subExp_6=[1,this_v2,0];
        return subExp_6;
    }
    var _else_0 = function(){
        var tmp = Queue_takeFront(this_v0.Q_in,[]);
        var subExp_9 = tmp.res;
        var this_v1 = _.assign({},this_v0,{Q_in: tmp.obj});
        var subExp_arg_7=subExp_9[+0];
        var subExp_arg_8=3;
        var this_v2 = _.assign({},this_v1,{Q_out: Queue_pushBack(this_v1.Q_out,[subExp_arg_7,subExp_arg_8]).obj});
        var subExp_10=[1,this_v2,0];
        return subExp_10;
    }
    var eval_if_0 = function(){
        var subExp_14=((1/2));
        var subExp_11=sample(Bernoulli({p:subExp_14}));
        if(subExp_11){
            var subExp_12=_if_0([]);
            return subExp_12;
        }
        else{
            var subExp_13=_else_0([]);
            return subExp_13;
        }
    }
    var _ret_0=eval_if_0([]);
    var this_v0=_ret_0[+1];
    var subExp_15=[];
    return {res:subExp_15,obj:this_v0};
}
var __h1_ty = function(){
    var this_v0 = {};
    var subExp_CallExp_1_v0 = Queue([]).obj;
    var this_v1 = _.assign({},this_v0,{Q_in: subExp_CallExp_1_v0});
    var subExp_CallExp_2_v0 = Queue([]).obj;
    var this_v2 = _.assign({},this_v1,{Q_out: subExp_CallExp_2_v0});
    var this_v3 = _.assign({},this_v2,{arrived: 0});
    return {res:this_v3,obj:this_v3};
}
var __h1_ty___run = function(this_v0){
    var this_v1 = _.assign({},this_v0,{arrived: 1});
    var this_v2 = _.assign({},this_v1,{Q_in: Queue_popFront(this_v1.Q_in,[]).obj});
    var subExp_3=[];
    return {res:subExp_3,obj:this_v2};
}
var Queue = function(){
    var this_v0 = {};
    var this_v1 = _.assign({},this_v0,{data: []});
    return {res:this_v1,obj:this_v1};
}
var Queue_pushFront = function(this_v0, x_0){
    var subExp_1=[x_0];
    var subExp_2=this_v0.data;
    var this_v1 = _.assign({},this_v0,{data: [].concat(subExp_1,subExp_2)});
    var subExp_3=[];
    return {res:subExp_3,obj:this_v1};
}
var Queue_pushBack = function(this_v0, x_0){
    var subExp_4=this_v0.data;
    var subExp_5=[x_0];
    var this_v1 = _.assign({},this_v0,{data: [].concat(subExp_4,subExp_5)});
    var subExp_6=[];
    return {res:subExp_6,obj:this_v1};
}
var Queue_takeFront = function(this_v0){
    var tmp = Queue_front(this_v0,[]);
    var r_0 = tmp.res;
    var this_v1 = tmp.obj;
    var this_v2 = Queue_popFront(this_v1,[]).obj;
    return {res:r_0,obj:this_v2};
}
var Queue_takeBack = function(this_v0){
    var subExp_7=this_v0.data;
    var tmp = Queue_size(this_v0,[]);
    var subExp_9 = tmp.res;
    var this_v1 = tmp.obj;
    var subExpArr_8=subExp_9-1;
    var r_0=subExp_7[+subExpArr_8];
    var subExp_10=this_v1.data;
    var tmp = Queue_size(this_v1,[]);
    var subExp_12 = tmp.res;
    var this_v2 = tmp.obj;
    var subExp_11=subExp_12-1;
    var this_v3 = _.assign({},this_v2,{data: ([].concat(subExp_10)).slice(0,subExp_11)});
    return {res:r_0,obj:this_v3};
}
var Queue_size = function(this_v0){
    var subExp_13=this_v0.data.length;
    return {res:subExp_13,obj:this_v0};
}
var Queue_front = function(this_v0){
    var subExp_15=this_v0.data;
    var subExp_14=subExp_15[+0];
    return {res:subExp_14,obj:this_v0};
}
var Queue_dupFront = function(this_v0){
    var tmp = Queue_front(this_v0,[]);
    var subExp_16 = tmp.res;
    var this_v1 = tmp.obj;
    var this_v2 = Queue_pushFront(this_v1,subExp_16).obj;
    var subExp_17=[];
    return {res:subExp_17,obj:this_v2};
}
var Queue_popFront = function(this_v0){
    var subExp_18=this_v0.data;
    var tmp = Queue_size(this_v0,[]);
    var subExp_19 = tmp.res;
    var this_v1 = tmp.obj;
    var this_v2 = _.assign({},this_v1,{data: ([].concat(subExp_18)).slice(1,subExp_19)});
    var subExp_20=[];
    return {res:subExp_20,obj:this_v2};
}
var __h0_ty = function(){
    var this_v0 = {};
    var subExp_CallExp_1_v0 = Queue([]).obj;
    var this_v1 = _.assign({},this_v0,{Q_in: subExp_CallExp_1_v0});
    var subExp_CallExp_2_v0 = Queue([]).obj;
    var this_v2 = _.assign({},this_v1,{Q_out: subExp_CallExp_2_v0});
    return {res:this_v2,obj:this_v2};
}
var __h0_ty___run = function(this_v0){
    var tmp = Queue_takeFront(this_v0.Q_in,[]);
    var subExp_5 = tmp.res;
    var this_v1 = _.assign({},this_v0,{Q_in: tmp.obj});
    var subExp_arg_3=subExp_5[+0];
    var subExp_arg_4=1;
    var this_v2 = _.assign({},this_v1,{Q_out: Queue_pushBack(this_v1.Q_out,[subExp_arg_3,subExp_arg_4]).obj});
    var subExp_6=[];
    return {res:subExp_6,obj:this_v2};
}
var __D = function(){
    var this_v0 = {};
    var subExp_CallExp_1_v0 = __h0_ty([]).obj;
    var this_v1 = _.assign({},this_v0,{__H0: subExp_CallExp_1_v0});
    var subExp_CallExp_2_v0 = __h1_ty([]).obj;
    var this_v2 = _.assign({},this_v1,{__H1: subExp_CallExp_2_v0});
    var subExp_CallExp_3_v0 = __s0_ty([]).obj;
    var this_v3 = _.assign({},this_v2,{__S0: subExp_CallExp_3_v0});
    var subExp_CallExp_4_v0 = __s1_ty([]).obj;
    var this_v4 = _.assign({},this_v3,{__S1: subExp_CallExp_4_v0});
    var subExp_CallExp_5_v0 = __s2_ty([]).obj;
    var this_v5 = _.assign({},this_v4,{__S2: subExp_CallExp_5_v0});
    var subExp_CallExp_6_v0 = __s3_ty([]).obj;
    var this_v6 = _.assign({},this_v5,{__S3: subExp_CallExp_6_v0});
    var this_v7 = _.assign({},this_v6,{num_actions: 0});
    return {res:this_v7,obj:this_v7};
}
var __D_scheduler = function(this_v0){
    var actions_0=[];
    var i_0=0;
    var loop_body_0 = function(_args_0){
        var _tuple_0=_args_0;
        var i_1=_tuple_0[+0];
        var actions_1=_tuple_0[+1];
        var subExp_7=i_1<6;
        if(subExp_7){
            var _if_0 = function(){
                var subExpArr_9=[0,i_1];
                var subExp_8=[subExpArr_9];
                var actions_2=[].concat(actions_1,subExp_8);
                var subExp_10=[1,actions_2,0];
                return subExp_10;
            }
            var _else_0 = function(){
                var subExp_11=[1,actions_1,0];
                return subExp_11;
            }
            var eval_if_0 = function(){
                var tmp = Queue_size((function(){if(i_1==0){ return this_v0.__H0.Q_in} else{ return (function(){if(i_1==1){ return this_v0.__H1.Q_in} else{ return (function(){if(i_1==2){ return this_v0.__S0.Q_in} else{ return (function(){if(i_1==3){ return this_v0.__S1.Q_in} else{ return (function(){if(i_1==4){ return this_v0.__S2.Q_in} else{ return this_v0.__S3.Q_in}})()}})()}})()}})()}})(),[]);
                var subExp_15/*might have an error:*/ = tmp.res;
                
                var subExp_12=subExp_15>0;
                if(subExp_12){
                    var subExp_13=_if_0([]);
                    return subExp_13;
                }
                else{
                    var subExp_14=_else_0([]);
                    return subExp_14;
                }
            }
            var _ret_0=eval_if_0([]);
            var actions_2=_ret_0[+1];
            var _if_1 = function(){
                var subExpArr_17=[1,i_1];
                var subExp_16=[subExpArr_17];
                var actions_3=[].concat(actions_2,subExp_16);
                var subExp_18=[1,actions_3,0];
                return subExp_18;
            }
            var _else_1 = function(){
                var subExp_19=[1,actions_2,0];
                return subExp_19;
            }
            var eval_if_1 = function(){
                var tmp = Queue_size((function(){if(i_1==0){ return this_v0.__H0.Q_out} else{ return (function(){if(i_1==1){ return this_v0.__H1.Q_out} else{ return (function(){if(i_1==2){ return this_v0.__S0.Q_out} else{ return (function(){if(i_1==3){ return this_v0.__S1.Q_out} else{ return (function(){if(i_1==4){ return this_v0.__S2.Q_out} else{ return this_v0.__S3.Q_out}})()}})()}})()}})()}})(),[]);
                var subExp_23/*might have an error:*/ = tmp.res;
                
                var subExp_20=subExp_23>0;
                if(subExp_20){
                    var subExp_21=_if_1([]);
                    return subExp_21;
                }
                else{
                    var subExp_22=_else_1([]);
                    return subExp_22;
                }
            }
            var _ret_1=eval_if_1([]);
            var actions_3=_ret_1[+1];
            var i_2=i_1+1;
            var _new_args_0=[i_2,actions_3];
            var subExp_24=[0,_new_args_0,0];
            return subExp_24;
        }
        else{
            var subExp_25=[1,_args_0,0];
            return subExp_25;
        }
    }
    var _loop_0 = function(arg_0){
        var loop_body_1=arg_0[+0];
        var args_0=arg_0[+1];
        var k_0=loop_body_1(args_0);
        var subExp_27=k_0[+0];
        var subExp_26=subExp_27!=0;
        if(subExp_26){
            return k_0;
        }
        var subExp_arg_29=k_0[+1];
        var subExp_28=_loop_0([loop_body_1,subExp_arg_29]);
        return subExp_28;
    }
    var _args_0=[i_0,actions_0];
    var _ret_0=_loop_0([loop_body_0,_args_0]);
    var _tuple_0=_ret_0[+1];
    var i_1=_tuple_0[+0];
    var actions_1=_tuple_0[+1];
    var subExp_30=this_v0.num_actions;
    var this_v1 = _.assign({},this_v0,{num_actions: subExp_30+1});
    var subExp_arg_33=0;
    var subExp_35=actions_1.length;
    var subExp_arg_34=subExp_35-1;
    var subExpArr_32=sample(RandomInteger({n:((subExp_arg_34)-(subExp_arg_33)+1)}))+(subExp_arg_33);
    var subExp_31=actions_1[+subExpArr_32];
    return {res:subExp_31,obj:this_v1};
}
var __D___step = function(this_v0){
    var _if_0 = function(){
        var tmp = __D_scheduler(this_v0,[]);
        var _tuple_0 = tmp.res;
        var this_v1 = tmp.obj;
        var action_0=_tuple_0[+0];
        var node_0=_tuple_0[+1];
        var _if_1 = function(){
            var _if_2 = function(){
                var tmp = Queue_takeFront(this_v1.__H0.Q_out,[]);
                var _tuple_1 = tmp.res;
                var new___H0=_.assign({},this_v1.__H0,{Q_out:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__H0: new___H0});
                var pkt_0=_tuple_1[+0];
                var port_0=_tuple_1[+1];
                var _if_3 = function(){
                    var subExp_arg_36=1;
                    var new___S0=_.assign({},this_v2.__S0,{Q_in:Queue_pushBack(this_v2.__S0.Q_in,[pkt_0,subExp_arg_36]).obj});
                    var this_v3 = _.assign({},this_v2,{__S0: new___S0});
                    var subExp_37=[1,this_v3,0];
                    return subExp_37;
                }
                var _else_0 = function(){
                    var subExp_38=[1,this_v2,0];
                    return subExp_38;
                }
                var eval_if_0 = function(){
                    var subExp_39=port_0==1;
                    if(subExp_39){
                        var subExp_40=_if_3([]);
                        return subExp_40;
                    }
                    else{
                        var subExp_41=_else_0([]);
                        return subExp_41;
                    }
                }
                var _ret_0=eval_if_0([]);
                var this_v2=_ret_0[+1];
                var subExp_42=[1,this_v2,0];
                return subExp_42;
            }
            var _else_0 = function(){
                var subExp_43=[1,this_v1,0];
                return subExp_43;
            }
            var eval_if_0 = function(){
                var subExp_47=node_0==0;
                var tmp = Queue_size(this_v1.__H0.Q_out,[]);
                var subExp_48 = tmp.res;
                var new___H0=_.assign({},this_v1.__H0,{Q_out:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__H0: new___H0});
                var subExp_44=subExp_47&&subExp_48;
                if(subExp_44){
                    var subExp_45=_if_2([]);
                    return subExp_45;
                }
                else{
                    var subExp_46=_else_0([]);
                    return subExp_46;
                }
            }
            var _ret_0=eval_if_0([]);
            var this_v1=_ret_0[+1];
            var _if_3 = function(){
                var tmp = Queue_takeFront(this_v1.__H1.Q_out,[]);
                var _tuple_1 = tmp.res;
                var new___H1=_.assign({},this_v1.__H1,{Q_out:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__H1: new___H1});
                var pkt_0=_tuple_1[+0];
                var port_0=_tuple_1[+1];
                var _if_4 = function(){
                    var subExp_arg_49=3;
                    var new___S3=_.assign({},this_v2.__S3,{Q_in:Queue_pushBack(this_v2.__S3.Q_in,[pkt_0,subExp_arg_49]).obj});
                    var this_v3 = _.assign({},this_v2,{__S3: new___S3});
                    var subExp_50=[1,this_v3,0];
                    return subExp_50;
                }
                var _else_1 = function(){
                    var subExp_51=[1,this_v2,0];
                    return subExp_51;
                }
                var eval_if_1 = function(){
                    var subExp_52=port_0==1;
                    if(subExp_52){
                        var subExp_53=_if_4([]);
                        return subExp_53;
                    }
                    else{
                        var subExp_54=_else_1([]);
                        return subExp_54;
                    }
                }
                var _ret_1=eval_if_1([]);
                var this_v2=_ret_1[+1];
                var subExp_55=[1,this_v2,0];
                return subExp_55;
            }
            var _else_1 = function(){
                var subExp_56=[1,this_v1,0];
                return subExp_56;
            }
            var eval_if_1 = function(){
                var subExp_60=node_0==1;
                var tmp = Queue_size(this_v1.__H1.Q_out,[]);
                var subExp_61 = tmp.res;
                var new___H1=_.assign({},this_v1.__H1,{Q_out:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__H1: new___H1});
                var subExp_57=subExp_60&&subExp_61;
                if(subExp_57){
                    var subExp_58=_if_3([]);
                    return subExp_58;
                }
                else{
                    var subExp_59=_else_1([]);
                    return subExp_59;
                }
            }
            var _ret_1=eval_if_1([]);
            var this_v1=_ret_1[+1];
            var _if_4 = function(){
                var tmp = Queue_takeFront(this_v1.__S0.Q_out,[]);
                var _tuple_1 = tmp.res;
                var new___S0=_.assign({},this_v1.__S0,{Q_out:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__S0: new___S0});
                var pkt_0=_tuple_1[+0];
                var port_0=_tuple_1[+1];
                var _if_5 = function(){
                    var subExp_arg_62=1;
                    var new___H0=_.assign({},this_v2.__H0,{Q_in:Queue_pushBack(this_v2.__H0.Q_in,[pkt_0,subExp_arg_62]).obj});
                    var this_v3 = _.assign({},this_v2,{__H0: new___H0});
                    var subExp_63=[1,this_v3,0];
                    return subExp_63;
                }
                var _else_2 = function(){
                    var subExp_64=[1,this_v2,0];
                    return subExp_64;
                }
                var eval_if_2 = function(){
                    var subExp_65=port_0==1;
                    if(subExp_65){
                        var subExp_66=_if_5([]);
                        return subExp_66;
                    }
                    else{
                        var subExp_67=_else_2([]);
                        return subExp_67;
                    }
                }
                var _ret_2=eval_if_2([]);
                var this_v2=_ret_2[+1];
                var _if_6 = function(){
                    var subExp_arg_68=1;
                    var new___S1=_.assign({},this_v2.__S1,{Q_in:Queue_pushBack(this_v2.__S1.Q_in,[pkt_0,subExp_arg_68]).obj});
                    var this_v3 = _.assign({},this_v2,{__S1: new___S1});
                    var subExp_69=[1,this_v3,0];
                    return subExp_69;
                }
                var _else_3 = function(){
                    var subExp_70=[1,this_v2,0];
                    return subExp_70;
                }
                var eval_if_3 = function(){
                    var subExp_71=port_0==2;
                    if(subExp_71){
                        var subExp_72=_if_6([]);
                        return subExp_72;
                    }
                    else{
                        var subExp_73=_else_3([]);
                        return subExp_73;
                    }
                }
                var _ret_3=eval_if_3([]);
                var this_v2=_ret_3[+1];
                var _if_7 = function(){
                    var subExp_arg_74=1;
                    var new___S2=_.assign({},this_v2.__S2,{Q_in:Queue_pushBack(this_v2.__S2.Q_in,[pkt_0,subExp_arg_74]).obj});
                    var this_v3 = _.assign({},this_v2,{__S2: new___S2});
                    var subExp_75=[1,this_v3,0];
                    return subExp_75;
                }
                var _else_4 = function(){
                    var subExp_76=[1,this_v2,0];
                    return subExp_76;
                }
                var eval_if_4 = function(){
                    var subExp_77=port_0==3;
                    if(subExp_77){
                        var subExp_78=_if_7([]);
                        return subExp_78;
                    }
                    else{
                        var subExp_79=_else_4([]);
                        return subExp_79;
                    }
                }
                var _ret_4=eval_if_4([]);
                var this_v2=_ret_4[+1];
                var subExp_80=[1,this_v2,0];
                return subExp_80;
            }
            var _else_2 = function(){
                var subExp_81=[1,this_v1,0];
                return subExp_81;
            }
            var eval_if_2 = function(){
                var subExp_85=node_0==2;
                var tmp = Queue_size(this_v1.__S0.Q_out,[]);
                var subExp_86 = tmp.res;
                var new___S0=_.assign({},this_v1.__S0,{Q_out:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__S0: new___S0});
                var subExp_82=subExp_85&&subExp_86;
                if(subExp_82){
                    var subExp_83=_if_4([]);
                    return subExp_83;
                }
                else{
                    var subExp_84=_else_2([]);
                    return subExp_84;
                }
            }
            var _ret_2=eval_if_2([]);
            var this_v1=_ret_2[+1];
            var _if_5 = function(){
                var tmp = Queue_takeFront(this_v1.__S1.Q_out,[]);
                var _tuple_1 = tmp.res;
                var new___S1=_.assign({},this_v1.__S1,{Q_out:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__S1: new___S1});
                var pkt_0=_tuple_1[+0];
                var port_0=_tuple_1[+1];
                var _if_6 = function(){
                    var subExp_arg_87=2;
                    var new___S0=_.assign({},this_v2.__S0,{Q_in:Queue_pushBack(this_v2.__S0.Q_in,[pkt_0,subExp_arg_87]).obj});
                    var this_v3 = _.assign({},this_v2,{__S0: new___S0});
                    var subExp_88=[1,this_v3,0];
                    return subExp_88;
                }
                var _else_3 = function(){
                    var subExp_89=[1,this_v2,0];
                    return subExp_89;
                }
                var eval_if_3 = function(){
                    var subExp_90=port_0==1;
                    if(subExp_90){
                        var subExp_91=_if_6([]);
                        return subExp_91;
                    }
                    else{
                        var subExp_92=_else_3([]);
                        return subExp_92;
                    }
                }
                var _ret_3=eval_if_3([]);
                var this_v2=_ret_3[+1];
                var _if_7 = function(){
                    var subExp_arg_93=1;
                    var new___S3=_.assign({},this_v2.__S3,{Q_in:Queue_pushBack(this_v2.__S3.Q_in,[pkt_0,subExp_arg_93]).obj});
                    var this_v3 = _.assign({},this_v2,{__S3: new___S3});
                    var subExp_94=[1,this_v3,0];
                    return subExp_94;
                }
                var _else_4 = function(){
                    var subExp_95=[1,this_v2,0];
                    return subExp_95;
                }
                var eval_if_4 = function(){
                    var subExp_96=port_0==2;
                    if(subExp_96){
                        var subExp_97=_if_7([]);
                        return subExp_97;
                    }
                    else{
                        var subExp_98=_else_4([]);
                        return subExp_98;
                    }
                }
                var _ret_4=eval_if_4([]);
                var this_v2=_ret_4[+1];
                var subExp_99=[1,this_v2,0];
                return subExp_99;
            }
            var _else_3 = function(){
                var subExp_100=[1,this_v1,0];
                return subExp_100;
            }
            var eval_if_3 = function(){
                var subExp_104=node_0==3;
                var tmp = Queue_size(this_v1.__S1.Q_out,[]);
                var subExp_105 = tmp.res;
                var new___S1=_.assign({},this_v1.__S1,{Q_out:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__S1: new___S1});
                var subExp_101=subExp_104&&subExp_105;
                if(subExp_101){
                    var subExp_102=_if_5([]);
                    return subExp_102;
                }
                else{
                    var subExp_103=_else_3([]);
                    return subExp_103;
                }
            }
            var _ret_3=eval_if_3([]);
            var this_v1=_ret_3[+1];
            var _if_6 = function(){
                var tmp = Queue_takeFront(this_v1.__S2.Q_out,[]);
                var _tuple_1 = tmp.res;
                var new___S2=_.assign({},this_v1.__S2,{Q_out:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__S2: new___S2});
                var pkt_0=_tuple_1[+0];
                var port_0=_tuple_1[+1];
                var _if_7 = function(){
                    var subExp_arg_106=3;
                    var new___S0=_.assign({},this_v2.__S0,{Q_in:Queue_pushBack(this_v2.__S0.Q_in,[pkt_0,subExp_arg_106]).obj});
                    var this_v3 = _.assign({},this_v2,{__S0: new___S0});
                    var subExp_107=[1,this_v3,0];
                    return subExp_107;
                }
                var _else_4 = function(){
                    var subExp_108=[1,this_v2,0];
                    return subExp_108;
                }
                var eval_if_4 = function(){
                    var subExp_109=port_0==1;
                    if(subExp_109){
                        var subExp_110=_if_7([]);
                        return subExp_110;
                    }
                    else{
                        var subExp_111=_else_4([]);
                        return subExp_111;
                    }
                }
                var _ret_4=eval_if_4([]);
                var this_v2=_ret_4[+1];
                var _if_8 = function(){
                    var subExp_arg_112=2;
                    var new___S3=_.assign({},this_v2.__S3,{Q_in:Queue_pushBack(this_v2.__S3.Q_in,[pkt_0,subExp_arg_112]).obj});
                    var this_v3 = _.assign({},this_v2,{__S3: new___S3});
                    var subExp_113=[1,this_v3,0];
                    return subExp_113;
                }
                var _else_5 = function(){
                    var subExp_114=[1,this_v2,0];
                    return subExp_114;
                }
                var eval_if_5 = function(){
                    var subExp_115=port_0==2;
                    if(subExp_115){
                        var subExp_116=_if_8([]);
                        return subExp_116;
                    }
                    else{
                        var subExp_117=_else_5([]);
                        return subExp_117;
                    }
                }
                var _ret_5=eval_if_5([]);
                var this_v2=_ret_5[+1];
                var subExp_118=[1,this_v2,0];
                return subExp_118;
            }
            var _else_4 = function(){
                var subExp_119=[1,this_v1,0];
                return subExp_119;
            }
            var eval_if_4 = function(){
                var subExp_123=node_0==4;
                var tmp = Queue_size(this_v1.__S2.Q_out,[]);
                var subExp_124 = tmp.res;
                var new___S2=_.assign({},this_v1.__S2,{Q_out:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__S2: new___S2});
                var subExp_120=subExp_123&&subExp_124;
                if(subExp_120){
                    var subExp_121=_if_6([]);
                    return subExp_121;
                }
                else{
                    var subExp_122=_else_4([]);
                    return subExp_122;
                }
            }
            var _ret_4=eval_if_4([]);
            var this_v1=_ret_4[+1];
            var _if_7 = function(){
                var tmp = Queue_takeFront(this_v1.__S3.Q_out,[]);
                var _tuple_1 = tmp.res;
                var new___S3=_.assign({},this_v1.__S3,{Q_out:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__S3: new___S3});
                var pkt_0=_tuple_1[+0];
                var port_0=_tuple_1[+1];
                var _if_8 = function(){
                    var subExp_arg_125=2;
                    var new___S1=_.assign({},this_v2.__S1,{Q_in:Queue_pushBack(this_v2.__S1.Q_in,[pkt_0,subExp_arg_125]).obj});
                    var this_v3 = _.assign({},this_v2,{__S1: new___S1});
                    var subExp_126=[1,this_v3,0];
                    return subExp_126;
                }
                var _else_5 = function(){
                    var subExp_127=[1,this_v2,0];
                    return subExp_127;
                }
                var eval_if_5 = function(){
                    var subExp_128=port_0==1;
                    if(subExp_128){
                        var subExp_129=_if_8([]);
                        return subExp_129;
                    }
                    else{
                        var subExp_130=_else_5([]);
                        return subExp_130;
                    }
                }
                var _ret_5=eval_if_5([]);
                var this_v2=_ret_5[+1];
                var _if_9 = function(){
                    var subExp_arg_131=2;
                    var new___S2=_.assign({},this_v2.__S2,{Q_in:Queue_pushBack(this_v2.__S2.Q_in,[pkt_0,subExp_arg_131]).obj});
                    var this_v3 = _.assign({},this_v2,{__S2: new___S2});
                    var subExp_132=[1,this_v3,0];
                    return subExp_132;
                }
                var _else_6 = function(){
                    var subExp_133=[1,this_v2,0];
                    return subExp_133;
                }
                var eval_if_6 = function(){
                    var subExp_134=port_0==2;
                    if(subExp_134){
                        var subExp_135=_if_9([]);
                        return subExp_135;
                    }
                    else{
                        var subExp_136=_else_6([]);
                        return subExp_136;
                    }
                }
                var _ret_6=eval_if_6([]);
                var this_v2=_ret_6[+1];
                var _if_10 = function(){
                    var subExp_arg_137=1;
                    var new___H1=_.assign({},this_v2.__H1,{Q_in:Queue_pushBack(this_v2.__H1.Q_in,[pkt_0,subExp_arg_137]).obj});
                    var this_v3 = _.assign({},this_v2,{__H1: new___H1});
                    var subExp_138=[1,this_v3,0];
                    return subExp_138;
                }
                var _else_7 = function(){
                    var subExp_139=[1,this_v2,0];
                    return subExp_139;
                }
                var eval_if_7 = function(){
                    var subExp_140=port_0==3;
                    if(subExp_140){
                        var subExp_141=_if_10([]);
                        return subExp_141;
                    }
                    else{
                        var subExp_142=_else_7([]);
                        return subExp_142;
                    }
                }
                var _ret_7=eval_if_7([]);
                var this_v2=_ret_7[+1];
                var subExp_143=[1,this_v2,0];
                return subExp_143;
            }
            var _else_5 = function(){
                var subExp_144=[1,this_v1,0];
                return subExp_144;
            }
            var eval_if_5 = function(){
                var subExp_148=node_0==5;
                var tmp = Queue_size(this_v1.__S3.Q_out,[]);
                var subExp_149 = tmp.res;
                var new___S3=_.assign({},this_v1.__S3,{Q_out:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__S3: new___S3});
                var subExp_145=subExp_148&&subExp_149;
                if(subExp_145){
                    var subExp_146=_if_7([]);
                    return subExp_146;
                }
                else{
                    var subExp_147=_else_5([]);
                    return subExp_147;
                }
            }
            var _ret_5=eval_if_5([]);
            var this_v1=_ret_5[+1];
            var subExp_150=[1,this_v1,0];
            return subExp_150;
        }
        var _else_0 = function(){
            var _if_2 = function(){
                var this_v2 = _.assign({},this_v1,{__H0: __h0_ty___run(this_v1.__H0,[]).obj});
                var subExp_151=[1,this_v2,0];
                return subExp_151;
            }
            var _else_1 = function(){
                var subExp_152=[1,this_v1,0];
                return subExp_152;
            }
            var eval_if_0 = function(){
                var subExp_156=node_0==0;
                var tmp = Queue_size(this_v1.__H0.Q_in,[]);
                var subExp_157 = tmp.res;
                var new___H0=_.assign({},this_v1.__H0,{Q_in:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__H0: new___H0});
                var subExp_153=subExp_156&&subExp_157;
                if(subExp_153){
                    var subExp_154=_if_2([]);
                    return subExp_154;
                }
                else{
                    var subExp_155=_else_1([]);
                    return subExp_155;
                }
            }
            var _ret_0=eval_if_0([]);
            var this_v1=_ret_0[+1];
            var _if_3 = function(){
                var this_v2 = _.assign({},this_v1,{__H1: __h1_ty___run(this_v1.__H1,[]).obj});
                var subExp_158=[1,this_v2,0];
                return subExp_158;
            }
            var _else_2 = function(){
                var subExp_159=[1,this_v1,0];
                return subExp_159;
            }
            var eval_if_1 = function(){
                var subExp_163=node_0==1;
                var tmp = Queue_size(this_v1.__H1.Q_in,[]);
                var subExp_164 = tmp.res;
                var new___H1=_.assign({},this_v1.__H1,{Q_in:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__H1: new___H1});
                var subExp_160=subExp_163&&subExp_164;
                if(subExp_160){
                    var subExp_161=_if_3([]);
                    return subExp_161;
                }
                else{
                    var subExp_162=_else_2([]);
                    return subExp_162;
                }
            }
            var _ret_1=eval_if_1([]);
            var this_v1=_ret_1[+1];
            var _if_4 = function(){
                var this_v2 = _.assign({},this_v1,{__S0: __s0_ty___run(this_v1.__S0,[]).obj});
                var subExp_165=[1,this_v2,0];
                return subExp_165;
            }
            var _else_3 = function(){
                var subExp_166=[1,this_v1,0];
                return subExp_166;
            }
            var eval_if_2 = function(){
                var subExp_170=node_0==2;
                var tmp = Queue_size(this_v1.__S0.Q_in,[]);
                var subExp_171 = tmp.res;
                var new___S0=_.assign({},this_v1.__S0,{Q_in:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__S0: new___S0});
                var subExp_167=subExp_170&&subExp_171;
                if(subExp_167){
                    var subExp_168=_if_4([]);
                    return subExp_168;
                }
                else{
                    var subExp_169=_else_3([]);
                    return subExp_169;
                }
            }
            var _ret_2=eval_if_2([]);
            var this_v1=_ret_2[+1];
            var _if_5 = function(){
                var this_v2 = _.assign({},this_v1,{__S1: __s1_ty___run(this_v1.__S1,[]).obj});
                var subExp_172=[1,this_v2,0];
                return subExp_172;
            }
            var _else_4 = function(){
                var subExp_173=[1,this_v1,0];
                return subExp_173;
            }
            var eval_if_3 = function(){
                var subExp_177=node_0==3;
                var tmp = Queue_size(this_v1.__S1.Q_in,[]);
                var subExp_178 = tmp.res;
                var new___S1=_.assign({},this_v1.__S1,{Q_in:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__S1: new___S1});
                var subExp_174=subExp_177&&subExp_178;
                if(subExp_174){
                    var subExp_175=_if_5([]);
                    return subExp_175;
                }
                else{
                    var subExp_176=_else_4([]);
                    return subExp_176;
                }
            }
            var _ret_3=eval_if_3([]);
            var this_v1=_ret_3[+1];
            var _if_6 = function(){
                var this_v2 = _.assign({},this_v1,{__S2: __s2_ty___run(this_v1.__S2,[]).obj});
                var subExp_179=[1,this_v2,0];
                return subExp_179;
            }
            var _else_5 = function(){
                var subExp_180=[1,this_v1,0];
                return subExp_180;
            }
            var eval_if_4 = function(){
                var subExp_184=node_0==4;
                var tmp = Queue_size(this_v1.__S2.Q_in,[]);
                var subExp_185 = tmp.res;
                var new___S2=_.assign({},this_v1.__S2,{Q_in:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__S2: new___S2});
                var subExp_181=subExp_184&&subExp_185;
                if(subExp_181){
                    var subExp_182=_if_6([]);
                    return subExp_182;
                }
                else{
                    var subExp_183=_else_5([]);
                    return subExp_183;
                }
            }
            var _ret_4=eval_if_4([]);
            var this_v1=_ret_4[+1];
            var _if_7 = function(){
                var this_v2 = _.assign({},this_v1,{__S3: __s3_ty___run(this_v1.__S3,[]).obj});
                var subExp_186=[1,this_v2,0];
                return subExp_186;
            }
            var _else_6 = function(){
                var subExp_187=[1,this_v1,0];
                return subExp_187;
            }
            var eval_if_5 = function(){
                var subExp_191=node_0==5;
                var tmp = Queue_size(this_v1.__S3.Q_in,[]);
                var subExp_192 = tmp.res;
                var new___S3=_.assign({},this_v1.__S3,{Q_in:tmp.obj});
                var this_v2 = _.assign({},this_v1,{__S3: new___S3});
                var subExp_188=subExp_191&&subExp_192;
                if(subExp_188){
                    var subExp_189=_if_7([]);
                    return subExp_189;
                }
                else{
                    var subExp_190=_else_6([]);
                    return subExp_190;
                }
            }
            var _ret_5=eval_if_5([]);
            var this_v1=_ret_5[+1];
            var subExp_193=[1,this_v1,0];
            return subExp_193;
        }
        var eval_if_0 = function(){
            if(action_0){
                var subExp_194=_if_1([]);
                return subExp_194;
            }
            else{
                var subExp_195=_else_0([]);
                return subExp_195;
            }
        }
        var _ret_0=eval_if_0([]);
        var this_v1=_ret_0[+1];
        var subExp_196=[1,this_v1,0];
        return subExp_196;
    }
    var _else_0 = function(){
        var subExp_197=[1,this_v0,0];
        return subExp_197;
    }
    var eval_if_0 = function(){
        var tmp = Queue_size(this_v0.__H0.Q_in,[]);
        var subExp_221 = tmp.res;
        var new___H0=_.assign({},this_v0.__H0,{Q_in:tmp.obj});
        var this_v1 = _.assign({},this_v0,{__H0: new___H0});
        var tmp = Queue_size(this_v1.__H0.Q_out,[]);
        var subExp_222 = tmp.res;
        var new___H0=_.assign({},this_v1.__H0,{Q_out:tmp.obj});
        var this_v2 = _.assign({},this_v1,{__H0: new___H0});
        var subExp_219=subExp_221||subExp_222;
        var tmp = Queue_size(this_v2.__H1.Q_in,[]);
        var subExp_220 = tmp.res;
        var new___H1=_.assign({},this_v2.__H1,{Q_in:tmp.obj});
        var this_v3 = _.assign({},this_v2,{__H1: new___H1});
        var subExp_217=subExp_219||subExp_220;
        var tmp = Queue_size(this_v3.__H1.Q_out,[]);
        var subExp_218 = tmp.res;
        var new___H1=_.assign({},this_v3.__H1,{Q_out:tmp.obj});
        var this_v4 = _.assign({},this_v3,{__H1: new___H1});
        var subExp_215=subExp_217||subExp_218;
        var tmp = Queue_size(this_v4.__S0.Q_in,[]);
        var subExp_216 = tmp.res;
        var new___S0=_.assign({},this_v4.__S0,{Q_in:tmp.obj});
        var this_v5 = _.assign({},this_v4,{__S0: new___S0});
        var subExp_213=subExp_215||subExp_216;
        var tmp = Queue_size(this_v5.__S0.Q_out,[]);
        var subExp_214 = tmp.res;
        var new___S0=_.assign({},this_v5.__S0,{Q_out:tmp.obj});
        var this_v6 = _.assign({},this_v5,{__S0: new___S0});
        var subExp_211=subExp_213||subExp_214;
        var tmp = Queue_size(this_v6.__S1.Q_in,[]);
        var subExp_212 = tmp.res;
        var new___S1=_.assign({},this_v6.__S1,{Q_in:tmp.obj});
        var this_v7 = _.assign({},this_v6,{__S1: new___S1});
        var subExp_209=subExp_211||subExp_212;
        var tmp = Queue_size(this_v7.__S1.Q_out,[]);
        var subExp_210 = tmp.res;
        var new___S1=_.assign({},this_v7.__S1,{Q_out:tmp.obj});
        var this_v8 = _.assign({},this_v7,{__S1: new___S1});
        var subExp_207=subExp_209||subExp_210;
        var tmp = Queue_size(this_v8.__S2.Q_in,[]);
        var subExp_208 = tmp.res;
        var new___S2=_.assign({},this_v8.__S2,{Q_in:tmp.obj});
        var this_v9 = _.assign({},this_v8,{__S2: new___S2});
        var subExp_205=subExp_207||subExp_208;
        var tmp = Queue_size(this_v9.__S2.Q_out,[]);
        var subExp_206 = tmp.res;
        var new___S2=_.assign({},this_v9.__S2,{Q_out:tmp.obj});
        var this_v10 = _.assign({},this_v9,{__S2: new___S2});
        var subExp_203=subExp_205||subExp_206;
        var tmp = Queue_size(this_v10.__S3.Q_in,[]);
        var subExp_204 = tmp.res;
        var new___S3=_.assign({},this_v10.__S3,{Q_in:tmp.obj});
        var this_v11 = _.assign({},this_v10,{__S3: new___S3});
        var subExp_201=subExp_203||subExp_204;
        var tmp = Queue_size(this_v11.__S3.Q_out,[]);
        var subExp_202 = tmp.res;
        var new___S3=_.assign({},this_v11.__S3,{Q_out:tmp.obj});
        var this_v12 = _.assign({},this_v11,{__S3: new___S3});
        var subExp_198=subExp_201||subExp_202;
        if(subExp_198){
            var subExp_199=_if_0([]);
            return subExp_199;
        }
        else{
            var subExp_200=_else_0([]);
            return subExp_200;
        }
    }
    var _ret_0=eval_if_0([]);
    var this_v0=_ret_0[+1];
    var subExp_223=[];
    return {res:subExp_223,obj:this_v0};
}

translating meaning of Packet
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
done with ifElseFunctional
Expression of type Identifier:
Packet
 
Expression of type Identifier:
Packet
 
Expression of type Identifier:
this
 
Expression of type ReturnExp:
return this
 
Expression of type FunctionDef:
def Packet'(){
    return this;
}
 
Expression of type CompoundDecl:
{
    def Packet'(){
        return this;
    }
}
 
Expression of type DatDecl:
dat Packet{
    def Packet'(){
        return this;
    }
}
 
done with forToWhile
whileToRec normalization...
done with whileToRec
done with tuplesNormalizer
done with unreachableNormalizer
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
def outside of main:(normalized)
dat Packet{
    def Packet'(){
        return this;
    }
}
var Packet = function(){
    var this_v0 = {};
    return {res:this_v0,obj:this_v0};
}

translating meaning of __H0
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
done with ifElseFunctional
Expression of type Identifier:
__H0
 
Expression of type Identifier:
__h0_ty
 
Expression of type VarDecl:
__H0: __h0_ty
 
done with forToWhile
whileToRec normalization...
done with whileToRec
done with tuplesNormalizer
done with unreachableNormalizer
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
def outside of main:(normalized)
__H0: __h0_ty
TODO 'VarDecl' not translated yet. You might want to insert:
override Expression visit(VarDecl e){
    code~=;
    visit(e.dtype);
    code~=;
    return e;
}


translating meaning of __H1
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
done with ifElseFunctional
Expression of type Identifier:
__H1
 
Expression of type Identifier:
__h1_ty
 
Expresundefined
sion of type VarDecl:
__H1: __h1_ty
 
done with forToWhile
whileToRec normalization...
done with whileToRec
done with tuplesNormalizer
done with unreachableNormalizer
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
def outside of main:(normalized)
__H1: __h1_ty
TODO 'VarDecl' not translated yet. You might want to insert:
override Expression visit(VarDecl e){
    code~=;
    visit(e.dtype);
    code~=;
    return e;
}


translating meaning of __S0
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
done with ifElseFunctional
Expression of type Identifier:
__S0
 
Expression of type Identifier:
__s0_ty
 
Expression of type VarDecl:
__S0: __s0_ty
 
done with forToWhile
whileToRec normalization...
done with whileToRec
done with tuplesNormalizer
done with unreachableNormalizer
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
def outside of main:(normalized)
__S0: __s0_ty
TODO 'VarDecl' not translated yet. You might want to insert:
override Expression visit(VarDecl e){
    code~=;
    visit(e.dtype);
    code~=;
    return e;
}


translating meaning of __S1
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
done with ifElseFunctional
Expression of type Identifier:
__S1
 
Expression of type Identifier:
__s1_ty
 
Expression of type VarDecl:
__S1: __s1_ty
 
done with forToWhile
whileToRec normalization...
done with whileToRec
done with tuplesNormalizer
done with unreachableNormalizer
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
def outside of main:(normalized)
__S1: __s1_ty
TODO 'VarDecl' not translated yet. You might want to insert:
override Expression visit(VarDecl e){
    code~=;
    visit(e.dtype);
    code~=;
    return e;
}


translating meaning of __S2
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
done with ifElseFunctional
Expression of type Identifier:
__S2
 
Expression of type Identifier:
__s2_ty
 
Expression of type VarDecl:
__S2: __s2_ty
 
done with forToWhile
whileToRec normalization...
done with whileToRec
done with tuplesNormalizer
done with unreachableNormalizer
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
def outside of main:(normalized)
__S2: __s2_ty
TODO 'VarDecl' not translated yet. You might want to insert:
override Expression visit(VarDecl e){
    code~=;
    visit(e.dtype);
    code~=;
    return e;
}


translating meaning of __S3
normalizing SyntacticSugar...
normalizing SyntacticSugar DONE
normalizing characters
removing Comma operator
doing ifElseFunctional
done with ifElseFunctional
Expression of type Identifier:
__S3
 
Expression of type Identifier:
__s3_ty
 
Expression of type VarDecl:
__S3: __s3_ty
 
done with forToWhile
whileToRec normalization...
done with whileToRec
done with tuplesNormalizer
done with unreachableNormalizer
done with RemoveApostrophes
VarsNormalizer...
VarsNormalizer DONE
def outside of main:(normalized)
__S3: __s3_ty
TODO 'VarDecl' not translated yet. You might want to insert:
override Expression visit(VarDecl e){
    code~=;
    visit(e.dtype);
    code~=;
    return e;
}


running webppl
E[r] = (9.9900000000000000*10^-01)

real	0m10.914s
user	0m10.204s
sys	0m1.480s
